import b from"./UserOperationLogSearch-BGg51eXl.js";import g from"./UserOperationLogColumn-DPxlYWUa.js";import{a as c}from"./log-Crt-HRA1.js";import{d as C,r as o,e as l,f as O,h as T,b as i,ag as p,O as s,z as B,ah as x,b7 as y}from"./index-fEaXY3hb.js";import{u as S}from"./useMessage-BpWl7_QK.js";import{u as k}from"./useTrans-BxQFVQVs.js";import"./__commonjsHelpers__-Cpj98o6Y.js";const v={class:"mine-layout pt-3"},I=C({name:"log:userOperation",__name:"userOperation",setup(F){const e=k().globalTrans,r=o(),a=o([]),m=S();async function d(){const t=a.value.map(n=>n.id);m.confirm(e("crud.delMessage")).then(async()=>{(await c.delete(t)).code===y.SUCCESS&&r.value.refresh()})}const u=o({adaptionOffsetBottom:161,header:{mainTitle:()=>e("baseOperationLog.title")},tableOptions:{on:{onSelectionChange:t=>a.value=t}},searchOptions:{fold:!0,text:{searchBtn:()=>e("crud.search"),resetBtn:()=>e("crud.reset"),isFoldBtn:()=>e("crud.searchFold"),notFoldBtn:()=>e("crud.searchUnFold")}},searchFormOptions:{labelWidth:"90px"},requestOptions:{api:c.page}}),f=o({searchItems:b(e),tableColumns:g(e)});return(t,n)=>{const h=l("el-button"),_=l("MaProTable");return T(),O("div",v,[i(_,{ref_key:"proTableRef",ref:r,options:s(u),schema:s(f)},{toolbarLeft:p(()=>[i(h,{type:"danger",plain:"",disabled:s(a).length<1,onClick:d},{default:p(()=>[B(x(s(e)("crud.delete")),1)]),_:1},8,["disabled"])]),_:1},8,["options","schema"])])}}});export{I as default};
