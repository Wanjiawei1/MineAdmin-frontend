import{g as y,R as b,o as D,n as z,b1 as L,M as O,ab as k,O as x,af as C}from"./index-BsGhlh_X.js";const h=()=>{};function P(...u){let o,s,r,e,i,a,t=0,l=!0,n=h;k(u[0])||typeof u[0]!="object"?[r,e=!0,i=!0,a=!1]=u:{delay:r,trailing:e=!0,leading:i=!0,rejectOnCancel:a=!1}=u[0];const c=()=>{o&&(clearTimeout(o),o=void 0,n(),n=h)};return d=>{const v=typeof(f=r)=="function"?f():x(f);var f;const p=Date.now()-t,g=()=>s=d();return c(),v<=0?(t=Date.now(),g()):(p>v&&(i||!l)?(t=Date.now(),g()):e&&(s=new Promise((w,m)=>{n=a?m:w,o=setTimeout(()=>{t=Date.now(),l=!0,w(g()),c()},Math.max(0,v-p))})),i||o||(o=setTimeout(()=>l=!0,v)),l=!1,s)}}function M(u,o=200,s=!1,r=!0,e=!1){return(function(i,a){return function(...t){return new Promise((l,n)=>{Promise.resolve(i(()=>a.apply(this,t),{fn:a,thisArg:this,args:t})).then(l).catch(n)})}})(P(o,s,r,e),u)}function E(u,o){const{appContext:s}=y(),r=s.config.globalProperties.$echarts;if(!r)return null;const e=b(null),i=()=>e.value&&e.value.resize(),a=M(()=>{i()},100);return D(async()=>{await(async()=>{await z(),u.value&&(e.value=r.init(u.value,"default",o))})(),window.addEventListener("resize",a),await a()}),L(async()=>await a()),{echarts:r,getInstance:()=>e.value,setOption:(t,l)=>{O(()=>{e.value&&e.value.setOption(t),l&&(l==null?void 0:l.length)>0&&e.value&&l.map(n=>{var c,d;(n==null?void 0:n.type)!=="zrender"&&typeof(n==null?void 0:n.callback)=="function"&&((c=e.value)==null||c.on(n==null?void 0:n.name,(n==null?void 0:n.query)??"",v=>{n==null||n.callback(v)})),(n==null?void 0:n.type)==="zrender"&&typeof(n==null?void 0:n.callback)=="function"&&((d=e.value)==null||d.getZr().on(n==null?void 0:n.name,v=>{v.target||n==null||n.callback(v)}))})})},showLoading:t=>{const l=(t==null?void 0:t.type)??"default",n=(t==null?void 0:t.opts)??{};e.value&&e.value.showLoading(l,n)},hideLoading:()=>e.value&&e.value.hideLoading(),clear:()=>{var t;e.value&&(e.value.dispose(),e.value.clear(),window.removeEventListener("resize",a),e.value=null,(t=u.value)==null||t.remove())},resize:i,appendData:t=>{e.value&&e.value.appendData(t)},getDom:()=>{var t;return((t=e.value)==null?void 0:t.getDom())??void 0},getWidth:()=>{var t;return((t=e.value)==null?void 0:t.getWidth())??void 0},getHeight:()=>{var t;return((t=e==null?void 0:e.value)==null?void 0:t.getHeight())??void 0},getOption:()=>e.value&&e.value.getOption()}}C();export{E as C};
