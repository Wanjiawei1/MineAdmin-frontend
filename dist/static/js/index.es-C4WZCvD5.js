import{d as ft,r as ce,P as Jt,i as Sn,c as mt,R as Rn,g as Tn,o as en,V as kn,a as Bn,b as T,n as Ge,aQ as Ln,e as V,aj as ht,h as fe,ag as Pe,ai as Fn,f as Le,F as Je,ak as jn,j as xe,ah as Yn,O as xn,aR as Xn,aS as zn,w as qn,v as Hn,m as nn,I as $n,ab as Wn}from"./index-BsGhlh_X.js";var Vn=Object.defineProperty,Jn=(e,t,n)=>t in e?Vn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,on=(e,t,n)=>Jn(e,typeof t!="symbol"?t+"":t,n);const Ee=e=>!!(e&&e.constructor&&e.call&&e.apply),ln=(e,t,n=!1)=>e?e.slice().sort(n===!0?(o,l)=>t(l)-t(o):(o,l)=>t(o)-t(l)):[];function kt(e){return typeof e=="function"?e():xn(e)}const Kn=typeof window<"u"&&typeof document<"u";function Gn(e,t=!0,n){Tn()?en(e,n):t?e():Ge(e)}const Un=Kn?window.document:void 0;/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),n.push.apply(n,o)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?an(Object(n),!0).forEach(function(o){Qn(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Kt(e){return Kt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kt(e)}function Qn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ke(){return ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ke.apply(this,arguments)}function Zn(e,t){if(e==null)return{};var n,o,l=(function(r,i){if(r==null)return{};var s,f,u={},g=Object.keys(r);for(f=0;f<g.length;f++)s=g[f],i.indexOf(s)>=0||(u[s]=r[s]);return u})(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}function Be(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Fe=Be(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),pt=Be(/Edge/i),rn=Be(/firefox/i),ut=Be(/safari/i)&&!Be(/chrome/i)&&!Be(/android/i),_n=Be(/iP(ad|od|hone)/i),Cn=Be(/chrome/i)&&Be(/android/i),En={capture:!1,passive:!1};function F(e,t,n){e.addEventListener(t,n,!Fe&&En)}function N(e,t,n){e.removeEventListener(t,n,!Fe&&En)}function Dt(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function eo(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Oe(e,t,n,o){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&Dt(e,t):Dt(e,t))||o&&e===n)return e;if(e===n)break}while(e=eo(e))}return null}var ct,sn=/\s+/g;function ye(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(sn," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(sn," ")}}function _(e,t,n){var o=e&&e.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];t in o||t.indexOf("webkit")!==-1||(t="-webkit-"+t),o[t]=n+(typeof n=="string"?"":"px")}}function tt(e,t){var n="";if(typeof e=="string")n=e;else do{var o=_(e,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var l=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return l&&new l(n)}function un(e,t,n){if(e){var o=e.getElementsByTagName(t),l=0,a=o.length;if(n)for(;l<a;l++)n(o[l],l);return o}return[]}function Ie(){var e=document.scrollingElement;return e||document.documentElement}function U(e,t,n,o,l){if(e.getBoundingClientRect||e===window){var a,r,i,s,f,u,g;if(e!==window&&e.parentNode&&e!==Ie()?(r=(a=e.getBoundingClientRect()).top,i=a.left,s=a.bottom,f=a.right,u=a.height,g=a.width):(r=0,i=0,s=window.innerHeight,f=window.innerWidth,u=window.innerHeight,g=window.innerWidth),(t||n)&&e!==window&&(l=l||e.parentNode,!Fe))do if(l&&l.getBoundingClientRect&&(_(l,"transform")!=="none"||n&&_(l,"position")!=="static")){var C=l.getBoundingClientRect();r-=C.top+parseInt(_(l,"border-top-width")),i-=C.left+parseInt(_(l,"border-left-width")),s=r+a.height,f=i+a.width;break}while(l=l.parentNode);if(o&&e!==window){var w=tt(l||e),b=w&&w.a,j=w&&w.d;w&&(s=(r/=j)+(u/=j),f=(i/=b)+(g/=b))}return{top:r,left:i,bottom:s,right:f,width:g,height:u}}}function cn(e,t,n){for(var o=ze(e,!0),l=U(e)[t];o;){if(!(l>=U(o)[n]))return o;if(o===Ie())break;o=ze(o,!1)}return!1}function nt(e,t,n,o){for(var l=0,a=0,r=e.children;a<r.length;){if(r[a].style.display!=="none"&&r[a]!==x.ghost&&(o||r[a]!==x.dragged)&&Oe(r[a],n.draggable,e,!1)){if(l===t)return r[a];l++}a++}return null}function Gt(e,t){for(var n=e.lastElementChild;n&&(n===x.ghost||_(n,"display")==="none"||t&&!Dt(n,t));)n=n.previousElementSibling;return n||null}function Ce(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()==="TEMPLATE"||e===x.clone||t&&!Dt(e,t)||n++;return n}function dn(e){var t=0,n=0,o=Ie();if(e)do{var l=tt(e),a=l.a,r=l.d;t+=e.scrollLeft*a,n+=e.scrollTop*r}while(e!==o&&(e=e.parentNode));return[t,n]}function ze(e,t){if(!e||!e.getBoundingClientRect)return Ie();var n=e,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var l=_(n);if(n.clientWidth<n.scrollWidth&&(l.overflowX=="auto"||l.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(l.overflowY=="auto"||l.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Ie();if(o||t)return n;o=!0}}while(n=n.parentNode);return Ie()}function Bt(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function Dn(e,t){return function(){if(!ct){var n=arguments;n.length===1?e.call(this,n[0]):e.apply(this,n),ct=setTimeout(function(){ct=void 0},t)}}}function On(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function hn(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function vn(e,t,n){var o={};return Array.from(e.children).forEach(function(l){var a,r,i,s;if(Oe(l,t.draggable,e,!1)&&!l.animated&&l!==n){var f=U(l);o.left=Math.min((a=o.left)!==null&&a!==void 0?a:1/0,f.left),o.top=Math.min((r=o.top)!==null&&r!==void 0?r:1/0,f.top),o.right=Math.max((i=o.right)!==null&&i!==void 0?i:-1/0,f.right),o.bottom=Math.max((s=o.bottom)!==null&&s!==void 0?s:-1/0,f.bottom)}}),o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}var Te="Sortable"+new Date().getTime();function to(){var e,t=[];return{captureAnimationState:function(){t=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(n){if(_(n,"display")!=="none"&&n!==x.ghost){t.push({target:n,rect:U(n)});var o=Ae({},t[t.length-1].rect);if(n.thisAnimationDuration){var l=tt(n,!0);l&&(o.top-=l.f,o.left-=l.e)}n.fromRect=o}})},addAnimationState:function(n){t.push(n)},removeAnimationState:function(n){t.splice((function(o,l){for(var a in o)if(o.hasOwnProperty(a)){for(var r in l)if(l.hasOwnProperty(r)&&l[r]===o[a][r])return Number(a)}return-1})(t,{target:n}),1)},animateAll:function(n){var o=this;if(!this.options.animation)return clearTimeout(e),void(typeof n=="function"&&n());var l=!1,a=0;t.forEach(function(r){var i=0,s=r.target,f=s.fromRect,u=U(s),g=s.prevFromRect,C=s.prevToRect,w=r.rect,b=tt(s,!0);b&&(u.top-=b.f,u.left-=b.e),s.toRect=u,s.thisAnimationDuration&&Bt(g,u)&&!Bt(f,u)&&(w.top-u.top)/(w.left-u.left)==(f.top-u.top)/(f.left-u.left)&&(i=(function(j,O,X,pe){return Math.sqrt(Math.pow(O.top-j.top,2)+Math.pow(O.left-j.left,2))/Math.sqrt(Math.pow(O.top-X.top,2)+Math.pow(O.left-X.left,2))*pe.animation})(w,g,C,o.options)),Bt(u,f)||(s.prevFromRect=f,s.prevToRect=u,i||(i=o.options.animation),o.animate(s,w,u,i)),i&&(l=!0,a=Math.max(a,i),clearTimeout(s.animationResetTimer),s.animationResetTimer=setTimeout(function(){s.animationTime=0,s.prevFromRect=null,s.fromRect=null,s.prevToRect=null,s.thisAnimationDuration=null},i),s.thisAnimationDuration=i)}),clearTimeout(e),l?e=setTimeout(function(){typeof n=="function"&&n()},a):typeof n=="function"&&n(),t=[]},animate:function(n,o,l,a){if(a){_(n,"transition",""),_(n,"transform","");var r=tt(this.el),i=r&&r.a,s=r&&r.d,f=(o.left-l.left)/(i||1),u=(o.top-l.top)/(s||1);n.animatingX=!!f,n.animatingY=!!u,_(n,"transform","translate3d("+f+"px,"+u+"px,0)"),this.forRepaintDummy=(function(g){return g.offsetWidth})(n),_(n,"transition","transform "+a+"ms"+(this.options.easing?" "+this.options.easing:"")),_(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){_(n,"transition",""),_(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},a)}}}}var Ue=[],Lt={initializeByDefault:!0},vt={mount:function(e){for(var t in Lt)Lt.hasOwnProperty(t)&&!(t in e)&&(e[t]=Lt[t]);Ue.forEach(function(n){if(n.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Ue.push(e)},pluginEvent:function(e,t,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var l=e+"Global";Ue.forEach(function(a){t[a.pluginName]&&(t[a.pluginName][l]&&t[a.pluginName][l](Ae({sortable:t},n)),t.options[a.pluginName]&&t[a.pluginName][e]&&t[a.pluginName][e](Ae({sortable:t},n)))})},initializePlugins:function(e,t,n,o){for(var l in Ue.forEach(function(r){var i=r.pluginName;if(e.options[i]||r.initializeByDefault){var s=new r(e,t,e.options);s.sortable=e,s.options=e.options,e[i]=s,ke(n,s.defaults)}}),e.options)if(e.options.hasOwnProperty(l)){var a=this.modifyOption(e,l,e.options[l]);a!==void 0&&(e.options[l]=a)}},getEventProperties:function(e,t){var n={};return Ue.forEach(function(o){typeof o.eventProperties=="function"&&ke(n,o.eventProperties.call(t[o.pluginName],e))}),n},modifyOption:function(e,t,n){var o;return Ue.forEach(function(l){e[l.pluginName]&&l.optionListeners&&typeof l.optionListeners[t]=="function"&&(o=l.optionListeners[t].call(e[l.pluginName],n))}),o}},no=["evt"],ve=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=n.evt,l=Zn(n,no);vt.pluginEvent.bind(x)(e,t,Ae({dragEl:h,parentEl:$,ghostEl:D,rootEl:q,nextEl:Ke,lastDownEl:Ct,cloneEl:W,cloneHidden:Xe,dragStarted:rt,putSortable:ee,activeSortable:x.active,originalEvent:o,oldIndex:et,oldDraggableIndex:dt,newIndex:Se,newDraggableIndex:Ye,hideGhostForTarget:In,unhideGhostForTarget:Nn,cloneNowHidden:function(){Xe=!0},cloneNowShown:function(){Xe=!1},dispatchSortableEvent:function(a){ue({sortable:t,name:a,originalEvent:o})}},l))};function ue(e){(function(t){var n=t.sortable,o=t.rootEl,l=t.name,a=t.targetEl,r=t.cloneEl,i=t.toEl,s=t.fromEl,f=t.oldIndex,u=t.newIndex,g=t.oldDraggableIndex,C=t.newDraggableIndex,w=t.originalEvent,b=t.putSortable,j=t.extraEventProperties;if(n=n||o&&o[Te]){var O,X=n.options,pe="on"+l.charAt(0).toUpperCase()+l.substr(1);!window.CustomEvent||Fe||pt?(O=document.createEvent("Event")).initEvent(l,!0,!0):O=new CustomEvent(l,{bubbles:!0,cancelable:!0}),O.to=i||o,O.from=s||o,O.item=a||o,O.clone=r,O.oldIndex=f,O.newIndex=u,O.oldDraggableIndex=g,O.newDraggableIndex=C,O.originalEvent=w,O.pullMode=b?b.lastPutMode:void 0;var J=Ae(Ae({},j),vt.getEventProperties(l,n));for(var re in J)O[re]=J[re];o&&o.dispatchEvent(O),X[pe]&&X[pe].call(n,O)}})(Ae({putSortable:ee,cloneEl:W,targetEl:h,rootEl:q,oldIndex:et,oldDraggableIndex:dt,newIndex:Se,newDraggableIndex:Ye},e))}var h,$,D,q,Ke,Ct,W,Xe,et,Se,dt,Ye,gt,ee,We,De,Ft,jt,fn,pn,rt,Qe,lt,bt,ae,Ze=!1,Ot=!1,Mt=[],at=!1,wt=!1,Yt=[],Ut=!1,yt=[],At=typeof document<"u",St=_n,mn=pt||Fe?"cssFloat":"float",oo=At&&!Cn&&!_n&&"draggable"in document.createElement("div"),Mn=(function(){if(At){if(Fe)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}})(),Pn=function(e,t){var n=_(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),l=nt(e,0,t),a=nt(e,1,t),r=l&&_(l),i=a&&_(a),s=r&&parseInt(r.marginLeft)+parseInt(r.marginRight)+U(l).width,f=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+U(a).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&r.float&&r.float!=="none"){var u=r.float==="left"?"left":"right";return!a||i.clear!=="both"&&i.clear!==u?"horizontal":"vertical"}return l&&(r.display==="block"||r.display==="flex"||r.display==="table"||r.display==="grid"||s>=o&&n[mn]==="none"||a&&n[mn]==="none"&&s+f>o)?"vertical":"horizontal"},An=function(e){function t(l,a){return function(r,i,s,f){var u=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(l==null&&(a||u))return!0;if(l==null||l===!1)return!1;if(a&&l==="clone")return l;if(typeof l=="function")return t(l(r,i,s,f),a)(r,i,s,f);var g=(a?r:i).options.group.name;return l===!0||typeof l=="string"&&l===g||l.join&&l.indexOf(g)>-1}}var n={},o=e.group;o&&Kt(o)=="object"||(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},In=function(){!Mn&&D&&_(D,"display","none")},Nn=function(){!Mn&&D&&_(D,"display","")};At&&!Cn&&document.addEventListener("click",function(e){if(Ot)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Ot=!1,!1},!0);var Ve=function(e){if(h){e=e.touches?e.touches[0]:e;var t=(l=e.clientX,a=e.clientY,Mt.some(function(i){var s=i[Te].options.emptyInsertThreshold;if(s&&!Gt(i)){var f=U(i),u=l>=f.left-s&&l<=f.right+s,g=a>=f.top-s&&a<=f.bottom+s;return u&&g?r=i:void 0}}),r);if(t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[Te]._onDragOver(n)}}var l,a,r},lo=function(e){h&&h.parentNode[Te]._isOutsideThisEl(e.target)};function x(e,t){if(!e||!e.nodeType||e.nodeType!==1)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=ke({},t),e[Te]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Pn(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(a,r){a.setData("Text",r.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:x.supportPointer!==!1&&"PointerEvent"in window&&!ut,emptyInsertThreshold:5};for(var o in vt.initializePlugins(this,e,n),n)!(o in t)&&(t[o]=n[o]);for(var l in An(t),this)l.charAt(0)==="_"&&typeof this[l]=="function"&&(this[l]=this[l].bind(this));this.nativeDraggable=!t.forceFallback&&oo,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?F(e,"pointerdown",this._onTapStart):(F(e,"mousedown",this._onTapStart),F(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(F(e,"dragover",this),F(e,"dragenter",this)),Mt.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),ke(this,to())}function Tt(e,t,n,o,l,a,r,i){var s,f,u=e[Te],g=u.options.onMove;return!window.CustomEvent||Fe||pt?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=n,s.draggedRect=o,s.related=l||t,s.relatedRect=a||U(t),s.willInsertAfter=i,s.originalEvent=r,e.dispatchEvent(s),g&&(f=g.call(u,s,r)),f}function Xt(e){e.draggable=!1}function ao(){Ut=!1}function ro(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function xt(e){return setTimeout(e,0)}function zt(e){return clearTimeout(e)}x.prototype={constructor:x,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Qe=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,h):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,o=this.options,l=o.preventOnFilter,a=e.type,r=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,i=(r||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||i,f=o.filter;if((function(u){yt.length=0;for(var g=u.getElementsByTagName("input"),C=g.length;C--;){var w=g[C];w.checked&&yt.push(w)}})(n),!h&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||o.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!ut||!i||i.tagName.toUpperCase()!=="SELECT")&&!((i=Oe(i,o.draggable,n,!1))&&i.animated||Ct===i)){if(et=Ce(i),dt=Ce(i,o.draggable),typeof f=="function"){if(f.call(this,e,i,this))return ue({sortable:t,rootEl:s,name:"filter",targetEl:i,toEl:n,fromEl:n}),ve("filter",t,{evt:e}),void(l&&e.cancelable&&e.preventDefault())}else if(f&&(f=f.split(",").some(function(u){if(u=Oe(s,u.trim(),n,!1))return ue({sortable:t,rootEl:u,name:"filter",targetEl:i,fromEl:n,toEl:n}),ve("filter",t,{evt:e}),!0})))return void(l&&e.cancelable&&e.preventDefault());o.handle&&!Oe(s,o.handle,n,!1)||this._prepareDragStart(e,r,i)}}},_prepareDragStart:function(e,t,n){var o,l=this,a=l.el,r=l.options,i=a.ownerDocument;if(n&&!h&&n.parentNode===a){var s=U(n);if(q=a,$=(h=n).parentNode,Ke=h.nextSibling,Ct=n,gt=r.group,x.dragged=h,We={target:h,clientX:(t||e).clientX,clientY:(t||e).clientY},fn=We.clientX-s.left,pn=We.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,h.style["will-change"]="all",o=function(){ve("delayEnded",l,{evt:e}),x.eventCanceled?l._onDrop():(l._disableDelayedDragEvents(),!rn&&l.nativeDraggable&&(h.draggable=!0),l._triggerDragStart(e,t),ue({sortable:l,name:"choose",originalEvent:e}),ye(h,r.chosenClass,!0))},r.ignore.split(",").forEach(function(f){un(h,f.trim(),Xt)}),F(i,"dragover",Ve),F(i,"mousemove",Ve),F(i,"touchmove",Ve),F(i,"mouseup",l._onDrop),F(i,"touchend",l._onDrop),F(i,"touchcancel",l._onDrop),rn&&this.nativeDraggable&&(this.options.touchStartThreshold=4,h.draggable=!0),ve("delayStart",this,{evt:e}),!r.delay||r.delayOnTouchOnly&&!t||this.nativeDraggable&&(pt||Fe))o();else{if(x.eventCanceled)return void this._onDrop();F(i,"mouseup",l._disableDelayedDrag),F(i,"touchend",l._disableDelayedDrag),F(i,"touchcancel",l._disableDelayedDrag),F(i,"mousemove",l._delayedDragTouchMoveHandler),F(i,"touchmove",l._delayedDragTouchMoveHandler),r.supportPointer&&F(i,"pointermove",l._delayedDragTouchMoveHandler),l._dragStartTimer=setTimeout(o,r.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){h&&Xt(h),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;N(e,"mouseup",this._disableDelayedDrag),N(e,"touchend",this._disableDelayedDrag),N(e,"touchcancel",this._disableDelayedDrag),N(e,"mousemove",this._delayedDragTouchMoveHandler),N(e,"touchmove",this._delayedDragTouchMoveHandler),N(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?F(document,"pointermove",this._onTouchMove):F(document,t?"touchmove":"mousemove",this._onTouchMove):(F(h,"dragend",this),F(q,"dragstart",this._onDragStart));try{document.selection?xt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(Ze=!1,q&&h){ve("dragStarted",this,{evt:t}),this.nativeDraggable&&F(document,"dragover",lo);var n=this.options;!e&&ye(h,n.dragClass,!1),ye(h,n.ghostClass,!0),x.active=this,e&&this._appendGhost(),ue({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(De){this._lastX=De.clientX,this._lastY=De.clientY,In();for(var e=document.elementFromPoint(De.clientX,De.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(De.clientX,De.clientY))!==t;)t=e;if(h.parentNode[Te]._isOutsideThisEl(e),t)do{if(t[Te]&&t[Te]._onDragOver({clientX:De.clientX,clientY:De.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break;e=t}while(t=t.parentNode);Nn()}},_onTouchMove:function(e){if(We){var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,l=e.touches?e.touches[0]:e,a=D&&tt(D,!0),r=D&&a&&a.a,i=D&&a&&a.d,s=St&&ae&&dn(ae),f=(l.clientX-We.clientX+o.x)/(r||1)+(s?s[0]-Yt[0]:0)/(r||1),u=(l.clientY-We.clientY+o.y)/(i||1)+(s?s[1]-Yt[1]:0)/(i||1);if(!x.active&&!Ze){if(n&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(D){a?(a.e+=f-(Ft||0),a.f+=u-(jt||0)):a={a:1,b:0,c:0,d:1,e:f,f:u};var g="matrix(".concat(a.a,",").concat(a.b,",").concat(a.c,",").concat(a.d,",").concat(a.e,",").concat(a.f,")");_(D,"webkitTransform",g),_(D,"mozTransform",g),_(D,"msTransform",g),_(D,"transform",g),Ft=f,jt=u,De=l}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!D){var e=this.options.fallbackOnBody?document.body:q,t=U(h,!0,St,!0,e),n=this.options;if(St){for(ae=e;_(ae,"position")==="static"&&_(ae,"transform")==="none"&&ae!==document;)ae=ae.parentNode;ae!==document.body&&ae!==document.documentElement?(ae===document&&(ae=Ie()),t.top+=ae.scrollTop,t.left+=ae.scrollLeft):ae=Ie(),Yt=dn(ae)}ye(D=h.cloneNode(!0),n.ghostClass,!1),ye(D,n.fallbackClass,!0),ye(D,n.dragClass,!0),_(D,"transition",""),_(D,"transform",""),_(D,"box-sizing","border-box"),_(D,"margin",0),_(D,"top",t.top),_(D,"left",t.left),_(D,"width",t.width),_(D,"height",t.height),_(D,"opacity","0.8"),_(D,"position",St?"absolute":"fixed"),_(D,"zIndex","100000"),_(D,"pointerEvents","none"),x.ghost=D,e.appendChild(D),_(D,"transform-origin",fn/parseInt(D.style.width)*100+"% "+pn/parseInt(D.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,o=e.dataTransfer,l=n.options;ve("dragStart",this,{evt:e}),x.eventCanceled?this._onDrop():(ve("setupClone",this),x.eventCanceled||((W=hn(h)).removeAttribute("id"),W.draggable=!1,W.style["will-change"]="",this._hideClone(),ye(W,this.options.chosenClass,!1),x.clone=W),n.cloneId=xt(function(){ve("clone",n),x.eventCanceled||(n.options.removeCloneOnHide||q.insertBefore(W,h),n._hideClone(),ue({sortable:n,name:"clone"}))}),!t&&ye(h,l.dragClass,!0),t?(Ot=!0,n._loopId=setInterval(n._emulateDragOver,50)):(N(document,"mouseup",n._onDrop),N(document,"touchend",n._onDrop),N(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",l.setData&&l.setData.call(n,o,h)),F(document,"drop",n),_(h,"transform","translateZ(0)")),Ze=!0,n._dragStartId=xt(n._dragStarted.bind(n,t,e)),F(document,"selectstart",n),rt=!0,ut&&_(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,o,l,a=this.el,r=e.target,i=this.options,s=i.group,f=x.active,u=gt===s,g=i.sort,C=ee||f,w=this,b=!1;if(!Ut){if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=Oe(r,i.draggable,a,!0),ne("dragOver"),x.eventCanceled)return b;if(h.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||w._ignoreWhileAnimating===r)return P(!1);if(Ot=!1,f&&!i.disabled&&(u?g||(o=$!==q):ee===this||(this.lastPutMode=gt.checkPull(this,f,h,e))&&s.checkPut(this,f,h,e))){if(l=this._getDirection(e,r)==="vertical",t=U(h),ne("dragOverValid"),x.eventCanceled)return b;if(o)return $=q,Z(),this._hideClone(),ne("revert"),x.eventCanceled||(Ke?q.insertBefore(h,Ke):q.appendChild(h)),P(!0);var j=Gt(a,i.draggable);if(!j||(function(R,oe,Y){var H=U(Gt(Y.el,Y.options.draggable)),we=vn(Y.el,Y.options,D),se=10;return oe?R.clientX>we.right+se||R.clientY>H.bottom&&R.clientX>H.left:R.clientY>we.bottom+se||R.clientX>H.right&&R.clientY>H.top})(e,l,this)&&!j.animated){if(j===h)return P(!1);if(j&&a===e.target&&(r=j),r&&(n=U(r)),Tt(q,a,h,t,r,n,e,!!r)!==!1)return Z(),j&&j.nextSibling?a.insertBefore(h,j.nextSibling):a.appendChild(h),$=a,be(),P(!0)}else if(j&&(function(R,oe,Y){var H=U(nt(Y.el,0,Y.options,!0)),we=vn(Y.el,Y.options,D),se=10;return oe?R.clientX<we.left-se||R.clientY<H.top&&R.clientX<H.right:R.clientY<we.top-se||R.clientY<H.bottom&&R.clientX<H.left})(e,l,this)){var O=nt(a,0,i,!0);if(O===h)return P(!1);if(n=U(r=O),Tt(q,a,h,t,r,n,e,!1)!==!1)return Z(),a.insertBefore(h,O),$=a,be(),P(!0)}else if(r.parentNode===a){n=U(r);var X,pe,J,re=h.parentNode!==a,Ne=!(function(R,oe,Y){var H=Y?R.left:R.top,we=Y?R.right:R.bottom,se=Y?R.width:R.height,je=Y?oe.left:oe.top,ot=Y?oe.right:oe.bottom,de=Y?oe.width:oe.height;return H===je||we===ot||H+se/2===je+de/2})(h.animated&&h.toRect||t,r.animated&&r.toRect||n,l),Re=l?"top":"left",me=cn(r,"top","top")||cn(h,"top","top"),_e=me?me.scrollTop:void 0;if(Qe!==r&&(pe=n[Re],at=!1,wt=!Ne&&i.invertSwap||re),X=(function(R,oe,Y,H,we,se,je,ot){var de=H?R.clientY:R.clientX,Q=H?Y.height:Y.width,c=H?Y.top:Y.left,v=H?Y.bottom:Y.right,d=!1;if(!je){if(ot&&bt<Q*we){if(!at&&(lt===1?de>c+Q*se/2:de<v-Q*se/2)&&(at=!0),at)d=!0;else if(lt===1?de<c+bt:de>v-bt)return-lt}else if(de>c+Q*(1-we)/2&&de<v-Q*(1-we)/2)return(function(S){return Ce(h)<Ce(S)?1:-1})(oe)}return(d=d||je)&&(de<c+Q*se/2||de>v-Q*se/2)?de>c+Q/2?1:-1:0})(e,r,n,l,Ne?1:i.swapThreshold,i.invertedSwapThreshold==null?i.swapThreshold:i.invertedSwapThreshold,wt,Qe===r),X!==0){var te=Ce(h);do te-=X,J=$.children[te];while(J&&(_(J,"display")==="none"||J===D))}if(X===0||J===r)return P(!1);Qe=r,lt=X;var He=r.nextElementSibling,ge=!1,ie=Tt(q,a,h,t,r,n,e,ge=X===1);if(ie!==!1)return ie!==1&&ie!==-1||(ge=ie===1),Ut=!0,setTimeout(ao,30),Z(),ge&&!He?a.appendChild(h):r.parentNode.insertBefore(h,ge?He:r),me&&On(me,0,_e-me.scrollTop),$=h.parentNode,pe===void 0||wt||(bt=Math.abs(pe-U(r)[Re])),be(),P(!0)}if(a.contains(h))return P(!1)}return!1}function ne(R,oe){ve(R,w,Ae({evt:e,isOwner:u,axis:l?"vertical":"horizontal",revert:o,dragRect:t,targetRect:n,canSort:g,fromSortable:C,target:r,completed:P,onMove:function(Y,H){return Tt(q,a,h,t,Y,U(Y),e,H)},changed:be},oe))}function Z(){ne("dragOverAnimationCapture"),w.captureAnimationState(),w!==C&&C.captureAnimationState()}function P(R){return ne("dragOverCompleted",{insertion:R}),R&&(u?f._hideClone():f._showClone(w),w!==C&&(ye(h,ee?ee.options.ghostClass:f.options.ghostClass,!1),ye(h,i.ghostClass,!0)),ee!==w&&w!==x.active?ee=w:w===x.active&&ee&&(ee=null),C===w&&(w._ignoreWhileAnimating=r),w.animateAll(function(){ne("dragOverAnimationComplete"),w._ignoreWhileAnimating=null}),w!==C&&(C.animateAll(),C._ignoreWhileAnimating=null)),(r===h&&!h.animated||r===a&&!r.animated)&&(Qe=null),i.dragoverBubble||e.rootEl||r===document||(h.parentNode[Te]._isOutsideThisEl(e.target),!R&&Ve(e)),!i.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),b=!0}function be(){Se=Ce(h),Ye=Ce(h,i.draggable),ue({sortable:w,name:"change",toEl:a,newIndex:Se,newDraggableIndex:Ye,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){N(document,"mousemove",this._onTouchMove),N(document,"touchmove",this._onTouchMove),N(document,"pointermove",this._onTouchMove),N(document,"dragover",Ve),N(document,"mousemove",Ve),N(document,"touchmove",Ve)},_offUpEvents:function(){var e=this.el.ownerDocument;N(e,"mouseup",this._onDrop),N(e,"touchend",this._onDrop),N(e,"pointerup",this._onDrop),N(e,"touchcancel",this._onDrop),N(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;Se=Ce(h),Ye=Ce(h,n.draggable),ve("drop",this,{evt:e}),$=h&&h.parentNode,Se=Ce(h),Ye=Ce(h,n.draggable),x.eventCanceled||(Ze=!1,wt=!1,at=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),zt(this.cloneId),zt(this._dragStartId),this.nativeDraggable&&(N(document,"drop",this),N(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ut&&_(document.body,"user-select",""),_(h,"transform",""),e&&(rt&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),D&&D.parentNode&&D.parentNode.removeChild(D),(q===$||ee&&ee.lastPutMode!=="clone")&&W&&W.parentNode&&W.parentNode.removeChild(W),h&&(this.nativeDraggable&&N(h,"dragend",this),Xt(h),h.style["will-change"]="",rt&&!Ze&&ye(h,ee?ee.options.ghostClass:this.options.ghostClass,!1),ye(h,this.options.chosenClass,!1),ue({sortable:this,name:"unchoose",toEl:$,newIndex:null,newDraggableIndex:null,originalEvent:e}),q!==$?(Se>=0&&(ue({rootEl:$,name:"add",toEl:$,fromEl:q,originalEvent:e}),ue({sortable:this,name:"remove",toEl:$,originalEvent:e}),ue({rootEl:$,name:"sort",toEl:$,fromEl:q,originalEvent:e}),ue({sortable:this,name:"sort",toEl:$,originalEvent:e})),ee&&ee.save()):Se!==et&&Se>=0&&(ue({sortable:this,name:"update",toEl:$,originalEvent:e}),ue({sortable:this,name:"sort",toEl:$,originalEvent:e})),x.active&&(Se!=null&&Se!==-1||(Se=et,Ye=dt),ue({sortable:this,name:"end",toEl:$,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){ve("nulling",this),q=h=$=D=Ke=W=Ct=Xe=We=De=rt=Se=Ye=et=dt=Qe=lt=ee=gt=x.dragged=x.ghost=x.clone=x.active=null,yt.forEach(function(e){e.checked=!0}),yt.length=Ft=jt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":h&&(this._onDragOver(e),(function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()})(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,o=0,l=n.length,a=this.options;o<l;o++)Oe(e=n[o],a.draggable,this.el,!1)&&t.push(e.getAttribute(a.dataIdAttr)||ro(e));return t},sort:function(e,t){var n={},o=this.el;this.toArray().forEach(function(l,a){var r=o.children[a];Oe(r,this.options.draggable,o,!1)&&(n[l]=r)},this),t&&this.captureAnimationState(),e.forEach(function(l){n[l]&&(o.removeChild(n[l]),o.appendChild(n[l]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Oe(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var o=vt.modifyOption(this,e,t);n[e]=o!==void 0?o:t,e==="group"&&An(n)},destroy:function(){ve("destroy",this);var e=this.el;e[Te]=null,N(e,"mousedown",this._onTapStart),N(e,"touchstart",this._onTapStart),N(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(N(e,"dragover",this),N(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Mt.splice(Mt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Xe){if(ve("hideClone",this),x.eventCanceled)return;_(W,"display","none"),this.options.removeCloneOnHide&&W.parentNode&&W.parentNode.removeChild(W),Xe=!0}},_showClone:function(e){if(e.lastPutMode==="clone"){if(Xe){if(ve("showClone",this),x.eventCanceled)return;h.parentNode!=q||this.options.group.revertClone?Ke?q.insertBefore(W,Ke):q.appendChild(W):q.insertBefore(W,h),this.options.group.revertClone&&this.animate(h,W),_(W,"display",""),Xe=!1}}else this._hideClone()}},At&&F(document,"touchmove",function(e){(x.active||Ze)&&e.cancelable&&e.preventDefault()}),x.utils={on:F,off:N,css:_,find:un,is:function(e,t){return!!Oe(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:Dn,closest:Oe,toggleClass:ye,clone:hn,index:Ce,nextTick:xt,cancelNextTick:zt,detectDirection:Pn,getChild:nt},x.get=function(e){return e[Te]},x.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(x.utils=Ae(Ae({},x.utils),o.utils)),vt.mount(o)})},x.create=function(e,t){return new x(e,t)},x.version="1.15.2";var it,Qt,qt,Ht,Pt,st,G=[],Zt=!1;function Et(){G.forEach(function(e){clearInterval(e.pid)}),G=[]}function gn(){clearInterval(st)}var $t=Dn(function(e,t,n,o){if(t.scroll){var l,a=(e.touches?e.touches[0]:e).clientX,r=(e.touches?e.touches[0]:e).clientY,i=t.scrollSensitivity,s=t.scrollSpeed,f=Ie(),u=!1;Qt!==n&&(Qt=n,Et(),it=t.scroll,l=t.scrollFn,it===!0&&(it=ze(n,!0)));var g=0,C=it;do{var w=C,b=U(w),j=b.top,O=b.bottom,X=b.left,pe=b.right,J=b.width,re=b.height,Ne=void 0,Re=void 0,me=w.scrollWidth,_e=w.scrollHeight,te=_(w),He=w.scrollLeft,ge=w.scrollTop;w===f?(Ne=J<me&&(te.overflowX==="auto"||te.overflowX==="scroll"||te.overflowX==="visible"),Re=re<_e&&(te.overflowY==="auto"||te.overflowY==="scroll"||te.overflowY==="visible")):(Ne=J<me&&(te.overflowX==="auto"||te.overflowX==="scroll"),Re=re<_e&&(te.overflowY==="auto"||te.overflowY==="scroll"));var ie=Ne&&(Math.abs(pe-a)<=i&&He+J<me)-(Math.abs(X-a)<=i&&!!He),ne=Re&&(Math.abs(O-r)<=i&&ge+re<_e)-(Math.abs(j-r)<=i&&!!ge);if(!G[g])for(var Z=0;Z<=g;Z++)G[Z]||(G[Z]={});G[g].vx==ie&&G[g].vy==ne&&G[g].el===w||(G[g].el=w,G[g].vx=ie,G[g].vy=ne,clearInterval(G[g].pid),ie==0&&ne==0||(u=!0,G[g].pid=setInterval((function(){o&&this.layer===0&&x.active._onTouchMove(Pt);var P=G[this.layer].vy?G[this.layer].vy*s:0,be=G[this.layer].vx?G[this.layer].vx*s:0;typeof l=="function"&&l.call(x.dragged.parentNode[Te],be,P,e,Pt,G[this.layer].el)!=="continue"||On(G[this.layer].el,be,P)}).bind({layer:g}),24))),g++}while(t.bubbleScroll&&C!==f&&(C=ze(C,!1)));Zt=u}},30),bn=function(e){var t=e.originalEvent,n=e.putSortable,o=e.dragEl,l=e.activeSortable,a=e.dispatchSortableEvent,r=e.hideGhostForTarget,i=e.unhideGhostForTarget;if(t){var s=n||l;r();var f=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(f.clientX,f.clientY);i(),s&&!s.el.contains(u)&&(a("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function Wt(){}function Vt(){}function io(e,t,n={}){let o;const{document:l=Un,...a}=n,r={onUpdate:u=>{(function(g,C,w){const b=Wn(g),j=b?[...kt(g)]:kt(g);if(w>=0&&w<j.length){const O=j.splice(C,1)[0];Ge(()=>{j.splice(w,0,O),b&&(g.value=j)})}})(t,u.oldIndex,u.newIndex)}},i=()=>{const u=typeof e=="string"?l==null?void 0:l.querySelector(e):(function(g){var C;const w=kt(g);return(C=w==null?void 0:w.$el)!=null?C:w})(e);u&&o===void 0&&(o=new x(u,{...r,...a}))},s=()=>{o==null||o.destroy(),o=void 0};var f;return Gn(i),f=s,Xn()&&zn(f),{stop:s,start:i,option:(u,g)=>{if(g===void 0)return o==null?void 0:o.option(u);o==null||o.option(u,g)}}}function so(){var e;const t=Sn("MaProTableOptions"),{renderPlugins:n=[]}=((e=t==null?void 0:t.value)==null?void 0:e.provider)??{renderPlugins:[]};return{getPluginByName:o=>n.find(l=>l.name===o),getPlugins:()=>n,addPlugin:o=>{n.find(l=>l.name===o.name)||n.push(o)},removePlugin:o=>{const l=n.findIndex(a=>a.name===o);l!==-1&&n.splice(l,1)}}}Wt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=nt(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:bn},ke(Wt,{pluginName:"revertOnSpill"}),Vt.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:bn},ke(Vt,{pluginName:"removeOnSpill"}),x.mount(new function(){function e(){for(var t in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(t){var n=t.originalEvent;this.sortable.nativeDraggable?F(document,"dragover",this._handleAutoScroll):this.options.supportPointer?F(document,"pointermove",this._handleFallbackAutoScroll):n.touches?F(document,"touchmove",this._handleFallbackAutoScroll):F(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var n=t.originalEvent;this.options.dragOverBubble||n.rootEl||this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?N(document,"dragover",this._handleAutoScroll):(N(document,"pointermove",this._handleFallbackAutoScroll),N(document,"touchmove",this._handleFallbackAutoScroll),N(document,"mousemove",this._handleFallbackAutoScroll)),gn(),Et(),clearTimeout(ct),ct=void 0},nulling:function(){Pt=Qt=it=Zt=st=qt=Ht=null,G.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,n){var o=this,l=(t.touches?t.touches[0]:t).clientX,a=(t.touches?t.touches[0]:t).clientY,r=document.elementFromPoint(l,a);if(Pt=t,n||this.options.forceAutoScrollFallback||pt||Fe||ut){$t(t,this.options,r,n);var i=ze(r,!0);!Zt||st&&l===qt&&a===Ht||(st&&gn(),st=setInterval(function(){var s=ze(document.elementFromPoint(l,a),!0);s!==i&&(i=s,Et()),$t(t,o.options,s,n)},10),qt=l,Ht=a)}else{if(!this.options.bubbleScroll||ze(r,!0)===Ie())return void Et();$t(t,this.options,ze(r,!1),!1)}}},ke(e,{pluginName:"scroll",initializeByDefault:!0})}),x.mount(Vt,Wt);const qe=(e,t)=>{const n=e.__vccOpts||e;for(const[o,l]of t)n[o]=l;return n},uo={xmlns:"http://www.w3.org/2000/svg",width:"1.3em",height:"1.3em",viewBox:"0 0 24 24"},co=qe({name:"IcBaselineDragIndicator"},[["render",function(e,t,n,o,l,a){return fe(),Le("svg",uo,t[0]||(t[0]=[xe("path",{fill:"currentColor",d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2s.9-2 2-2s2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2s-2 .9-2 2s.9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2s2-.9 2-2s-.9-2-2-2"},null,-1)]))}]]),ho={xmlns:"http://www.w3.org/2000/svg",width:"1.3em",height:"1.3em",viewBox:"0 0 24 24"},wn=qe({name:"RiMoreLine"},[["render",function(e,t,n,o,l,a){return fe(),Le("svg",ho,t[0]||(t[0]=[xe("path",{fill:"currentColor",d:"M4.5 10.5c-.825 0-1.5.675-1.5 1.5s.675 1.5 1.5 1.5S6 12.825 6 12s-.675-1.5-1.5-1.5m15 0c-.825 0-1.5.675-1.5 1.5s.675 1.5 1.5 1.5S21 12.825 21 12s-.675-1.5-1.5-1.5m-7.5 0c-.825 0-1.5.675-1.5 1.5s.675 1.5 1.5 1.5s1.5-.675 1.5-1.5s-.675-1.5-1.5-1.5"},null,-1)]))}]]);function _t(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!$n(e)}const yn=ft({name:"MaProTable",props:{options:{type:Object,default:()=>({tableOptions:{},searchOptions:{},searchFormOptions:{}})},schema:{type:Object,default:()=>({searchItems:[],tableColumns:[]})}},emits:["row-drag-sort","search-submit","search-reset"],setup(e,{slots:t,emit:n,expose:o}){var l,a,r,i;const s=Sn("MaProTableOptions"),f=mt(()=>{const c=[];return ln(s.value.provider.toolbars,v=>v.order??0).map(v=>{(Ee(v.show)?v.show:()=>v.show!==!1)()&&c.push(v)}),c}),u=ce([]);ce([]);const g=ce(!1),C=`_${Math.floor(1e5*Math.random()+2e4*Math.random()+5e3*Math.random())}`,w=Tn(),b=ce(e.options),j=ce(e.schema),O=ce(((l=j.value)==null?void 0:l.tableColumns)??[]),X=ce(((a=b.value)==null?void 0:a.requestOptions)??{}),pe=ce(!0),J=ce(((i=(r=b.value)==null?void 0:r.requestOptions)==null?void 0:i.requestParams)??{}),re=Rn([]),Ne=ce(),Re=mt(()=>{var c;return((c=X.value)==null?void 0:c.autoRequest)??!0}),me=async()=>{var c,v,d;const{pageName:S="page",sizeName:m="page_size",size:E=10}=((v=(c=b.value)==null?void 0:c.requestOptions)==null?void 0:v.requestPage)??{};J.value[S]=1,J.value[m]=E,Ne.value={pageName:S,sizeName:m,size:E},await Ge(()=>{var k,L;return ne(((L=(k=Z())==null?void 0:k.getSearchForm)==null?void 0:L.call(k))??{})}),Re.value&&P().setPagination({defaultPageSize:(d=Ne.value)==null?void 0:d.size,onChange:async(k,L)=>{J.value[S]=k,J.value[m]=L,await ie(),He()}})},_e=ce([]),{actionBtnPosition:te="auto"}=b.value,He=()=>{var c,v,d,S;const{tableOptions:m}=b.value,E=Ee(m==null?void 0:m.rowKey)?(c=m==null?void 0:m.rowKey)==null?void 0:c.call(m,{}):(m==null?void 0:m.rowKey)??"id",k=(S=(d=(v=P())==null?void 0:v.getElTableRef())==null?void 0:d.store)==null?void 0:S.states;if(u.value.length>0&&k.data.value){const L=u.value.filter(B=>k.data.value.find(A=>B[E]===A[E])),z=P().getElTableRef();L.map(B=>{var A;return(A=z==null?void 0:z.toggleRowSelection)==null?void 0:A.call(z,B,!0)})}},ge=mt(()=>(()=>{var c,v;const{header:d,toolbar:S}=b.value;return{headerShowFun:typeof(d==null?void 0:d.show)=="function"?d.show:()=>(d==null?void 0:d.show)!==!1,toolbarShowFun:typeof S=="function"?S:()=>S!==!1,searchIsShow:((v=(c=Z())==null?void 0:c.getShowState)==null?void 0:v.call(c))??!0}})()),ie=async()=>{var c,v,d,S,m,E,k,L;if((((c=X.value)==null?void 0:c.autoRequest)??1)||(X.value.autoRequest=!0,await me()),(v=X.value)==null?void 0:v.api)if(Re.value){const{response:z,data:B,total:A}=await(async()=>new Promise((le,p)=>{var y;P().setLoadingState(!0),(y=X.value)==null||y.api(J.value).then(M=>{var I,K,he,Me;const $e=M.data[((K=(I=X.value)==null?void 0:I.response)==null?void 0:K.dataKey)??"list"]??[],It=M.data[((Me=(he=X.value)==null?void 0:he.response)==null?void 0:Me.totalKey)??"total"]??0;P().setLoadingState(!1),le({response:M.data,data:$e,total:It})}).catch(()=>{P().setLoadingState(!1),p({response:null,data:[],total:0})})}))();P().setData(((S=(d=X.value)==null?void 0:d.responseDataHandler)==null?void 0:S.call(d,z))??B),A&&A>0?(P().setOptions({showPagination:!0}),P().setPagination(Object.assign(((E=(m=b.value)==null?void 0:m.tableOptions)==null?void 0:E.pagination)??{},{total:A}))):P().setOptions({showPagination:!1}),re.value=B}else re.value=[];else{const z=((L=(k=b.value)==null?void 0:k.tableOptions)==null?void 0:L.data)??[];P().setData(z),re.value=z}},ne=async(c,v=!1)=>{J.value=Object.assign(J.value,c),v&&await ie()},Z=()=>{var c;return(c=w==null?void 0:w.proxy)==null?void 0:c.$refs[`MaSearchRef${C}`]},P=()=>{var c;return(c=w==null?void 0:w.proxy)==null?void 0:c.$refs[`MaTableRef${C}`]},be=async()=>{var c,v,d,S,m,E,k,L,z,B,A;await Ge();const le=document.querySelector(`.mineadmin-pro-table .mine-ptt${C} .mineadmin-pagination`);if((c=le==null?void 0:le.classList)==null||c.add("no-print"),((d=(v=b.value)==null?void 0:v.tableOptions)==null?void 0:d.adaption)??1){const{headerShowFun:p,toolbarShowFun:y}=ge.value,M=((S=document.querySelector(`.mineadmin-pro-table .ma-pro-table-search${C}`))==null?void 0:S.offsetHeight)??0,I=((m=document.querySelector(`.mineadmin-pro-table .ma-pro-table-header${C}`))==null?void 0:m.offsetHeight)??0,K=((E=document.querySelector(`.mineadmin-pro-table .ma-pro-table-tool${C}`))==null?void 0:E.offsetHeight)??0,he=(le==null?void 0:le.offsetHeight)??-35;P().setOptions({adaptionOffsetBottom:(((L=(k=j.value)==null?void 0:k.searchItems)==null?void 0:L.length)>0&&Z().getShowState()?M:-12)+(p()?I+30:0)+(y()?K+10:0)+he+(((z=b==null?void 0:b.value)==null?void 0:z.adaptionOffsetBottom)??0)+16})}document.body.clientWidth<1e3?(B=P())==null||B.setPagination({size:"small",layout:"prev, pager, next, sizes"}):(A=P())==null||A.setPagination({size:"default",layout:void 0})},R=()=>{var c;return T("div",null,[(c=t.actions)==null?void 0:c.call(t)])},oe=()=>{var c,v,d;const{header:S}=b.value,{headerShowFun:m}=ge.value;return T(Je,null,[m()&&T("div",{className:`mine-card mineadmin-pro-table-header ma-pro-table-header${C}`},[((c=t.tableHeader)==null?void 0:c.call(t))??T(Je,null,[T("div",{className:"mineadmin-pro-table-header-title"},[((v=t.headerTitle)==null?void 0:v.call(t))??T(Je,null,[T("div",{className:"main-title"},[Ee(S==null?void 0:S.mainTitle)?S.mainTitle():(S==null?void 0:S.mainTitle)??"表格主标题"]),T("div",{className:"secondary-title"},[Ee(S==null?void 0:S.subTitle)?S.subTitle():(S==null?void 0:S.subTitle)??""])])]),T("div",{className:"mineadmin-pro-table-header-actions"},[["auto","header"].includes(te)&&R(),(d=t.headerRight)==null?void 0:d.call(t)])])])])},Y=()=>{var c,v,d,S;const{selection:m,toolStates:E}=b.value,k=mt(()=>(Ee(m==null?void 0:m.selectedText)?m.selectedText():(m==null?void 0:m.selectedText)??"已选择 {number} 项").replace("{number}",u.value.length.toString())),{headerShowFun:L,toolbarShowFun:z}=ge.value;return T("div",{className:`mineadmin-pro-table-toolbar ma-pro-table-tool${C}`},[T("div",{className:"mineadmin-pro-table-toolbar-content"},[(c=t.toolbarLeft)==null?void 0:c.call(t),(!L()||te==="table")&&z()&&R(),m&&((m==null?void 0:m.crossPage)??!1)&&T("div",{class:"mineadmin-pro-table-selection-all"},[k.value,T(V("el-link"),{underline:"never",type:"primary",onClick:()=>{var B,A,le;(le=(A=(B=P())==null?void 0:B.getElTableRef())==null?void 0:A.clearSelection)==null||le.call(A),u.value=[]}},{default:()=>[Ee(m==null?void 0:m.clearText)?m.clearText():(m==null?void 0:m.clearText)??"清除选择"]})])]),T("div",null,[(v=t.beforeToolbar)==null?void 0:v.call(t),((d=t.toolbar)==null?void 0:d.call(t))??T(Je,null,[f.value.filter(B=>{if(!E)return!0;const A=E[B.name]??void 0;return A===void 0||(typeof A=="function"?A==null?void 0:A():A)}).map(B=>Jt(B.render(),{proxy:Q.value}))]),(S=t.afterToolbar)==null?void 0:S.call(t)])])},H=(c,v)=>{c.map((d,S)=>{var m,E,k,L;const z=Ee(d==null?void 0:d.prop)?d.prop(S):(d==null?void 0:d.prop)??"";if((Ee(d==null?void 0:d.isRender)?d.isRender():(d==null?void 0:d.isRender)??!0)||c.splice(S,1),((m=d==null?void 0:d.children)==null?void 0:m.length)>0)H(d.children,v);else if(d!=null&&d.cellRenderTo){const B=v(d.cellRenderTo.name);B&&((E=d.cellRenderTo)!=null&&E.props?(L=(k=d.cellRenderTo)==null?void 0:k.props)!=null&&L.prop||(d.cellRenderTo.props.prop=z):d.cellRenderTo.props={prop:z},d.cellRender=A=>B.render(A,d.cellRenderTo.props,Q.value))}d.cellRenderPro&&(d.cellRender=B=>d.cellRenderPro(B,Q.value)),d.headerRenderPro&&(d.headerRender=B=>d.headerRenderPro(B,Q.value))})},we=()=>{const c=O.value.find(m=>(m==null?void 0:m.type)==="sort"),v=O.value.find(m=>(m==null?void 0:m.type)==="operation"),d=O.value.find(m=>(m==null?void 0:m.type)==="selection"),S=O.value.find(m=>(m==null?void 0:m.type)==="index");c&&(c!=null&&c.label||c!=null&&c.headerRender||(c.label="行排序"),c.width=(c==null?void 0:c.width)??"50px",c.showOverflowTooltip=!1,c.cellRender=()=>T("div",{className:"mine-cell-flex-center mine-cursor-resize"},[T(co,null,null)])),v&&(v!=null&&v.label||v!=null&&v.headerRender||(v.label="操作"),v.showOverflowTooltip=!1,v!=null&&v.cellRender||(v.cellRender=m=>((E,k)=>{const{type:L="auto",fold:z=1}=(k==null?void 0:k.operationConfigure)??{},B=p=>{var y;return T(Je,null,[(p==null?void 0:p.icon)&&((y=s.value.provider)==null?void 0:y.icon)&&Jt(s.value.provider.icon,{style:"margin-right: 2px;",name:Ee(p.icon)?p.icon(E):p.icon}),Ee(p.text)?p.text(E):(p==null?void 0:p.text)??"unknown"])},A=(p,y)=>{var M,I;let K;return(((M=p==null?void 0:p.show)==null?void 0:M.call(p,y))??!0)&&T(V("el-link"),nn({underline:"never"},p==null?void 0:p.linkProps,{disabled:((I=p==null?void 0:p.disabled)==null?void 0:I.call(p,y))??!1,onClick:he=>{var Me;return(Me=p==null?void 0:p.onClick)==null?void 0:Me.call(p,y,Q.value,he)}}),_t(K=B(p))?K:{default:()=>[K]})},le=(p,y)=>{var M;let I;const K=((M=p==null?void 0:p.disabled)==null?void 0:M.call(p,y))??!1;return T(V("el-dropdown-item"),{disabled:K,command:p},{default:()=>[T(V("el-link"),nn({underline:"never"},p==null?void 0:p.linkProps,{disabled:K}),_t(I=B(p))?I:{default:()=>[I]})]})};if(L==="auto"){const p=[];return T("div",{className:"mine-operation-scroll"},[_e.value.map((y,M)=>{var I,K;return M+1<=z?((I=y==null?void 0:y.show)==null?void 0:I.call(y,E))??1?A(y,E):null:((((K=y==null?void 0:y.show)==null?void 0:K.call(y,E))??1)&&p.push(y),null)}),p.length>0&&T(V("el-dropdown"),{"hide-on-click":!1,onCommand:y=>{var M;return(M=y.onClick)==null?void 0:M.call(y,E,Q.value)}},{default:()=>[T(V("el-link"),{underline:"never"},{default:()=>[T(wn,null,null)]})],dropdown:()=>{let y;return T(V("el-dropdown-menu"),null,_t(y=p.map(M=>{var I;return((I=M==null?void 0:M.show)==null?void 0:I.call(M,E))??1?le(M,E):null}))?y:{default:()=>[y]})}})])}return L==="dropdown"?T("div",{className:"mine-operation-scroll"},[T(V("el-dropdown"),{"hide-on-click":!1,onCommand:p=>{var y;return(y=p.onClick)==null?void 0:y.call(p,E,Q.value)}},{default:()=>[T(V("el-link"),{underline:"never"},{default:()=>[T(wn,null,null)]})],dropdown:()=>{let p;return T(V("el-dropdown-menu"),null,_t(p=_e.value.map(y=>{var M;return((M=y==null?void 0:y.show)==null?void 0:M.call(y,E))??1?le(y,E):null}))?p:{default:()=>[p]})}})]):L==="tile"?T("div",{className:"mine-operation-scroll"},[_e.value.map(p=>{var y;return((y=p==null?void 0:p.show)==null?void 0:y.call(p,E))??1?A(p,E):null})]):void 0})(m,v))),d&&(d.label=(d==null?void 0:d.label)??"多选"),S&&(S.label=(S==null?void 0:S.label)??"#")},se=()=>{var c,v,d,S,m,E,k,L;(((v=(c=b.value)==null?void 0:c.tableOptions)==null?void 0:v.adaption)??1)&&(b.value.tableOptions=Object.assign(((d=b.value)==null?void 0:d.tableOptions)??{},{maxHeight:void 0})),(()=>{var z,B;const{rowContextMenu:A}=b.value;((A==null?void 0:A.enabled)??!1)===!0&&(z=s.value.provider)!=null&&z.contextMenu&&(b.value.tableOptions||(b.value.tableOptions={}),b.value.tableOptions.on=((B=b.value.tableOptions)==null?void 0:B.on)??{},b.value.tableOptions.on.onRowContextmenu=(le,p,y)=>{var M,I;y.preventDefault(),y.stopPropagation();const K=[];(M=A==null?void 0:A.items)==null||M.map((he,Me)=>{he.onClick=()=>{var $e;($e=he==null?void 0:he.onMenuClick)==null||$e.call(he,{row:le,column:p,proxy:Q.value},y)},K.push(he)}),(I=s.value.provider)==null||I.contextMenu({x:y.x,y:y.y,zIndex:1050,iconFontClass:"",customClass:"mine-contextmenu",items:K})})})(),(E=P())==null||E.setOptions({adaption:((m=(S=b.value)==null?void 0:S.tableOptions)==null?void 0:m.adaption)??!0}),(L=P())==null||L.setOptions(Object.assign(((k=b.value)==null?void 0:k.tableOptions)??{}))},je=()=>{const{getPluginByName:c}=so();Ge(()=>{var v,d,S;const m=(v=O.value)==null?void 0:v.find(E=>(E==null?void 0:E.type)==="operation");_e.value=((d=m==null?void 0:m.operationConfigure)==null?void 0:d.actions)??[],_e.value=ln(_e.value,E=>E.order),H(O.value,c),we(),(S=P())==null||S.setColumns(O.value)})},ot=()=>{var c,v,d,S,m,E,k,L,z,B,A;const{toolbarShowFun:le}=ge.value;return T(Je,null,[((v=(c=j.value)==null?void 0:c.searchItems)==null?void 0:v.length)>0&&qn(T("div",{className:`mineadmin-pro-table-search mine-card ma-pro-table-search${C}`},[T(V("ma-search"),{ref:`MaSearchRef${C}`,options:b.value.searchOptions,"form-options":b.value.searchFormOptions,"search-items":j.value.searchItems,onFold:async()=>await be(),onSearch:async p=>{var y,M,I;(y=b.value)!=null&&y.onSearchSubmit&&(p=(I=(M=b.value).onSearchSubmit)==null?void 0:I.call(M,p)),n("search-submit",p),await ne(p,!0)},onReset:async p=>{var y,M,I;(y=b.value)!=null&&y.onSearchReset&&(p=(I=(M=b.value).onSearchReset)==null?void 0:I.call(M,p)),n("search-reset",p),await ne(p,!0)}},{default:((d=t.search)==null?void 0:d.call(t))??void 0,actions:((S=t.searchActions)==null?void 0:S.call(t))??void 0,beforeActions:((m=t.searchBeforeActions)==null?void 0:m.call(t))??void 0,afterActions:((E=t.searchAfterActions)==null?void 0:E.call(t))??void 0})]),[[Hn,(((k=b.value.searchOptions)==null?void 0:k.show)??!0)&&ge.value.searchIsShow]]),(L=t.middle)==null?void 0:L.call(t),T("div",{className:`mine-card mine-ptt${C}`},[((z=t.tableTop)==null?void 0:z.call(t))??void 0,le()&&Y(),((B=t.tableCranny)==null?void 0:B.call(t))??void 0,pe.value&&T(V("ma-table"),{id:`ma-table${C}`,class:"ma-pro-table",ref:`MaTableRef${C}`,onSelectionChange:p=>{var y,M;const{tableOptions:I,selection:K}=b.value;if(K!=null&&K.crossPage){const he=Ee(I==null?void 0:I.rowKey)?(y=I==null?void 0:I.rowKey)==null?void 0:y.call(I,{}):(I==null?void 0:I.rowKey)??"id";u.value.push(...p),u.value=((Me,$e)=>{const It=Me.reduce((Nt,Rt)=>{const tn=$e?$e(Rt):Rt;return Nt[tn]||(Nt[tn]=Rt),Nt},{});return Object.values(It)})(u.value,Me=>Me[he])}((M=b.value.selection)==null?void 0:M.crossPage)===!0&&b.value.tableOptions.on.onSelectionChange(u.value)},onSetDataCallback:p=>re.value=p},{default:((A=t.default)==null?void 0:A.call(t))??void 0,...t})])])},de=()=>T("div",{className:"mineadmin-pro-table"},[oe(),ot()]);en(async()=>{var c;g.value=!0;const v=((c=X.value)==null?void 0:c.autoRequest)??!0;je(),se(),v&&await me(),v&&await ie(),window.addEventListener("resize",be),await be();const d=ce(document.querySelector(`.mine-ptt${C} tbody`));kn(()=>pe.value,S=>{if(S){d.value=document.querySelector(`.mine-ptt${C} tbody`);const m=JSON.parse(JSON.stringify(re.value));io(d,m,{handle:".mine-cursor-resize",animation:300,onEnd:async()=>{var E,k,L;await Ge(()=>re.value=m),(L=(k=(E=b.value)==null?void 0:E.on)==null?void 0:k.rowDragSort)==null||L.call(k,m),n("row-drag-sort",m)}})}},{immediate:!0})}),Bn(()=>{window.removeEventListener("resize",be)});const Q=ce({getSearchRef:()=>Z(),getTableRef:()=>P(),getElTableStates:()=>{var c,v,d;return(d=(v=(c=P())==null?void 0:c.getElTableRef())==null?void 0:v.store)==null?void 0:d.states},setTableColumns:c=>{O.value=c,je()},getTableColumns:()=>O.value,setSearchForm:c=>{var v,d;return(d=(v=Z())==null?void 0:v.setSearchForm)==null?void 0:d.call(v,c)},getSearchForm:()=>{var c,v;return(v=(c=Z())==null?void 0:c.getSearchForm)==null?void 0:v.call(c)},search:async c=>{var v,d;return await ne(Object.assign((d=(v=Z())==null?void 0:v.getSearchForm)==null?void 0:d.call(v),c??{}),!0)},refresh:async()=>await ie(),getProTableOptions:()=>b.value,setProTableOptions:c=>{Object.assign(b.value,c??{}),se()},getCurrentId:()=>C,requestData:ie,changeApi:async(c,v=!0)=>{X.value.api=c,v&&(await me(),await ie())},setRequestParams:ne,resizeHeight:be});return o({...Q.value}),()=>s.value.ssr?g.value&&de():de()}}),vo=[{name:"tag",render:(e,t,n)=>Jt(Ln,t,{default:()=>e.row[t==null?void 0:t.prop]})}],fo={xmlns:"http://www.w3.org/2000/svg",width:"1.3em",height:"1.3em",viewBox:"0 0 24 24"},po=qe({name:"IcOutlineRefresh"},[["render",function(e,t,n,o,l,a){return fe(),Le("svg",fo,t[0]||(t[0]=[xe("path",{fill:"currentColor",d:"M17.65 6.35A7.96 7.96 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"},null,-1)]))}]]),mo=ft({__name:"proTableRefresh",props:{proxy:{}},setup(e){const t=async()=>{await e.proxy.requestData()};return(n,o)=>{const l=V("el-button");return fe(),ht(l,{circle:"",onClick:t},{default:Pe(()=>[T(po)]),_:1})}}}),go={xmlns:"http://www.w3.org/2000/svg",width:"1.3em",height:"1.3em",viewBox:"0 0 24 24"},bo=qe({name:"IcRoundSearch"},[["render",function(e,t,n,o,l,a){return fe(),Le("svg",go,t[0]||(t[0]=[xe("path",{fill:"currentColor",d:"M15.5 14h-.79l-.28-.27a6.5 6.5 0 0 0 1.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 0 0-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 0 0 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0c.41-.41.41-1.08 0-1.49zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5S14 7.01 14 9.5S11.99 14 9.5 14"},null,-1)]))}]]),wo=ft({__name:"proTableSearch",props:{proxy:{}},setup(e){const t=async()=>{e.proxy.getSearchRef().setShowState(!e.proxy.getSearchRef().getShowState()),document.querySelector(`.ma-pro-table-search${e.proxy.getCurrentId()}`).style.display=e.proxy.getSearchRef().getShowState()?"block":"none",await e.proxy.resizeHeight()};return(n,o)=>{const l=V("el-button");return fe(),ht(l,{circle:"",onClick:t},{default:Pe(()=>[T(bo)]),_:1})}}});class yo{constructor(t,n={}){if(on(this,"dom",null),on(this,"options",{noPrint:void 0}),this.options=this.extend({noPrint:".no-print"},n),typeof t=="string")try{this.dom=document.querySelector(t)}catch{this.dom=document.createElement("div"),this.dom.innerHTML=t}else this.isDOM(t),this.dom=this.isDOM(t)?t:t.$el;this.init()}init(){this.writeIframe(this.getStyle()+this.getHtml())}extend(t,n){for(let o in n)t[o]=n[o];return t}getStyle(){var t;let n="",o=document.querySelectorAll("style,link");for(let l=0;l<o.length;l++)n+=o[l].outerHTML;return n+="<style>"+(((t=this.options)==null?void 0:t.noPrint)??".no-print")+"{ display: none; }</style>",n+="<style>html, body{ background-color: #fff; }</style>",n}getHtml(){var t;const n=document.querySelectorAll("input"),o=document.querySelectorAll("textarea"),l=document.querySelectorAll("select");for(let a=0;a<n.length;a++)n[a].type==="checkbox"||n[a].type==="radio"?n[a].checked===!0?n[a].setAttribute("checked","checked"):n[a].removeAttribute("checked"):(n[a].type,n[a].setAttribute("value",n[a].value));for(let a=0;a<o.length;a++)o[a].type==="textarea"&&(o[a].innerHTML=o[a].value);for(let a=0;a<l.length;a++)if(l[a].type==="select-one"){let r=l[a].children;for(let i in r)r[i].tagName==="OPTION"&&(((t=r[i])==null?void 0:t.selected)===!0?r[i].setAttribute("selected","selected"):r[i].removeAttribute("selected"))}return this.dom.outerHTML}writeIframe(t){let n,o,l=document.createElement("iframe"),a=document.body.appendChild(l);l.id="myIframe",l.setAttribute("style","position:absolute; width:0; height:0; top:-10px; left:-10px;"),n=a.contentWindow??a.contentDocument,o=a.contentDocument??a.contentWindow.document,o.open(),o.write(t),o.close();const r=this;l.onload=()=>{r.toPrint(n),setTimeout(()=>{document.body.removeChild(l)},100)}}toPrint(t){try{setTimeout(()=>{t.focus();try{t.document.execCommand("print",!1,null)||t.print()}catch{t.print()}t.close()},10)}catch{}}isDOM(t){return typeof HTMLElement=="object"?t instanceof HTMLElement:t&&typeof t=="object"&&t.nodeType===1&&typeof t.nodeName=="string"}}const So={xmlns:"http://www.w3.org/2000/svg",width:"1.3em",height:"1.3em",viewBox:"0 0 24 24"},To=qe({name:"IcOutlinePrint"},[["render",function(e,t,n,o,l,a){return fe(),Le("svg",So,t[0]||(t[0]=[xe("path",{fill:"currentColor",d:"M19 8h-1V3H6v5H5c-1.66 0-3 1.34-3 3v6h4v4h12v-4h4v-6c0-1.66-1.34-3-3-3M8 5h8v3H8zm8 12v2H8v-4h8zm2-2v-2H6v2H4v-4c0-.55.45-1 1-1h14c.55 0 1 .45 1 1v4z"},null,-1),xe("circle",{cx:"18",cy:"11.5",r:"1",fill:"currentColor"},null,-1)]))}]]),xo=ft({__name:"proTablePrint",props:{proxy:{}},setup(e){const t=()=>{new yo(document.querySelector(`#ma-table${e.proxy.getCurrentId()}`))};return(n,o)=>{const l=V("el-button");return fe(),ht(l,{circle:"",onClick:t},{default:Pe(()=>[T(To)]),_:1})}}}),_o={xmlns:"http://www.w3.org/2000/svg",width:"1.3em",height:"1.3em",viewBox:"0 0 24 24"},Co=qe({name:"IcOutlineSettings"},[["render",function(e,t,n,o,l,a){return fe(),Le("svg",_o,t[0]||(t[0]=[xe("path",{fill:"currentColor",d:"M19.43 12.98c.04-.32.07-.64.07-.98c0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46a.5.5 0 0 0-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65A.488.488 0 0 0 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1a.566.566 0 0 0-.18-.03c-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98c0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46a.5.5 0 0 0 .61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03c.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64zm-1.98-1.71c.04.31.05.52.05.73c0 .21-.02.43-.05.73l-.14 1.13l.89.7l1.08.84l-.7 1.21l-1.27-.51l-1.04-.42l-.9.68c-.43.32-.84.56-1.25.73l-1.06.43l-.16 1.13l-.2 1.35h-1.4l-.19-1.35l-.16-1.13l-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7l-1.06.43l-1.27.51l-.7-1.21l1.08-.84l.89-.7l-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13l-.89-.7l-1.08-.84l.7-1.21l1.27.51l1.04.42l.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43l.16-1.13l.2-1.35h1.39l.19 1.35l.16 1.13l1.06.43c.43.18.83.41 1.23.71l.91.7l1.06-.43l1.27-.51l.7 1.21l-1.07.85l-.89.7zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4s4-1.79 4-4s-1.79-4-4-4m0 6c-1.1 0-2-.9-2-2s.9-2 2-2s2 .9 2 2s-.9 2-2 2"},null,-1)]))}]]),Eo={xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",viewBox:"0 0 24 24"},Do=qe({name:"IcRoundFirstPage"},[["render",function(e,t,n,o,l,a){return fe(),Le("svg",Eo,t[0]||(t[0]=[xe("path",{fill:"currentColor",d:"M17.7 15.89L13.82 12l3.89-3.89A.996.996 0 1 0 16.3 6.7l-4.59 4.59a.996.996 0 0 0 0 1.41l4.59 4.59c.39.39 1.02.39 1.41 0a.993.993 0 0 0-.01-1.4M7 6c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1s-1-.45-1-1V7c0-.55.45-1 1-1"},null,-1)]))}]]),Oo={xmlns:"http://www.w3.org/2000/svg",width:"1.5em",height:"1.5em",viewBox:"0 0 24 24"},Mo=qe({name:"IcRoundLastPage"},[["render",function(e,t,n,o,l,a){return fe(),Le("svg",Oo,t[0]||(t[0]=[xe("path",{fill:"currentColor",d:"M6.29 8.11L10.18 12l-3.89 3.89A.996.996 0 1 0 7.7 17.3l4.59-4.59a.996.996 0 0 0 0-1.41L7.7 6.7a.996.996 0 0 0-1.41 0c-.38.39-.38 1.03 0 1.41M17 6c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1s-1-.45-1-1V7c0-.55.45-1 1-1"},null,-1)]))}]]),Po={class:"mine-pro-table-col-setting"},Ao={class:"settings-list"},Io={class:"label"},No={class:"setting-fixed"},Ro=ft({__name:"proTableSetting",props:{proxy:{}},setup(e){const t=ce();return en(()=>{Ge(()=>{t.value=e.proxy.getTableColumns()})}),(n,o)=>{const l=V("el-button"),a=V("el-switch"),r=V("el-link"),i=V("el-dropdown-item"),s=V("el-dropdown-menu"),f=V("el-dropdown");return fe(),ht(f,{"max-height":350,"hide-on-click":!1,trigger:"click"},{dropdown:Pe(()=>[T(s,{class:Fn(`mine-cols-setting${n.proxy.getCurrentId()}`)},{default:Pe(()=>[(fe(!0),Le(Je,null,jn(t.value,(u,g)=>(fe(),ht(i,{key:g},{default:Pe(()=>[xe("div",Po,[xe("div",Ao,[T(a,{modelValue:u.hide,"onUpdate:modelValue":C=>u.hide=C,size:"small","active-value":!1,"inactive-value":!0},null,8,["modelValue","onUpdate:modelValue"]),xe("div",Io,Yn(xn(Ee)(u.label)?u.label():u.label??"unknown"),1)]),xe("div",No,[T(r,{underline:"never",type:(u==null?void 0:u.fixed)==="left"?"primary":void 0,onClick:()=>u.fixed=(u==null?void 0:u.fixed)!=="left"?"left":void 0},{default:Pe(()=>[T(Do)]),_:2},1032,["type","onClick"]),T(r,{underline:"never",type:(u==null?void 0:u.fixed)==="right"?"primary":void 0,onClick:()=>u.fixed=(u==null?void 0:u.fixed)!=="right"?"right":void 0},{default:Pe(()=>[T(Mo)]),_:2},1032,["type","onClick"])])])]),_:2},1024))),128))]),_:1},8,["class"])]),default:Pe(()=>[T(l,{circle:"",style:{"margin-left":"12px"}},{default:Pe(()=>[T(Co)]),_:1})]),_:1})}}}),ko=[{name:"mineProTableRefresh",render:()=>mo,order:1},{name:"mineProTableSearch",render:()=>wo,order:2},{name:"mineProTablePrint",render:()=>xo,order:3},{name:"mineProTableSetting",render:()=>Ro,order:4}],Lo={install(e,t){e.component(yn.name,yn);const n=ce(t??{ssr:!1,provider:{app:e}});n.value.provider.renderPlugins=vo,n.value.provider.toolbars=ko,e.provide("MaProTableOptions",n)}};export{Lo as L,so as s};
