import{o as yt,n as St,g as Et,d as Ct,au as Pt,r as E,i as xt,a as It,w as nt,av as Ft,b as _,P as rt,aw as zt,m as A,e as N,F as ot,I as $t,v as kt,ax as Mt,ay as at,az as Tt,aA as At,aB as Lt,aC as Rt,aD as Vt,aE as Bt,aF as Dt,aG as Nt,aH as Gt,aI as Ut,aJ as Ht,aK as Jt,aL as Kt,aM as Wt,aN as Xt,aO as Yt,aP as lt}from"./index-fEaXY3hb.js";const it={Radio:at,Checkbox:lt,CheckboxButton:lt,Input:Yt,Mention:Xt,Autocomplete:Wt,InputNumber:Kt,Select:Jt,Cascader:Ht,Switch:Ut,Slider:Gt,TimePicker:Nt,DatePicker:Dt,Rate:Bt,ColorPicker:Vt,Transfer:Rt,TimeSelect:Lt,SelectV2:At,TreeSelect:Tt,RadioButton:at};var Zt=typeof global=="object"&&global&&global.Object===Object&&global,qt=typeof self=="object"&&self&&self.Object===Object&&self,W=Zt||qt||Function("return this")(),P=W.Symbol,mt=Object.prototype,Qt=mt.hasOwnProperty,te=mt.toString,z=P?P.toStringTag:void 0,ee=Object.prototype.toString,ne="[object Null]",re="[object Undefined]",ut=P?P.toStringTag:void 0;function _t(t){return t==null?t===void 0?re:ne:ut&&ut in Object(t)?(function(e){var n=Qt.call(e,z),r=e[z];try{e[z]=void 0;var o=!0}catch{}var l=te.call(e);return o&&(n?e[z]=r:delete e[z]),l})(t):(function(e){return ee.call(e)})(t)}var oe="[object Symbol]";function X(t){return typeof t=="symbol"||(function(e){return e!=null&&typeof e=="object"})(t)&&_t(t)==oe}var K=Array.isArray,st=P?P.prototype:void 0,ct=st?st.toString:void 0;function gt(t){if(typeof t=="string")return t;if(K(t))return(function(n,r){for(var o=-1,l=n==null?0:n.length,i=Array(l);++o<l;)i[o]=r(n[o],o,n);return i})(t,gt)+"";if(X(t))return ct?ct.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function V(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ae="[object AsyncFunction]",le="[object Function]",ie="[object GeneratorFunction]",ue="[object Proxy]",ft,G=W["__core-js_shared__"],pt=(ft=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||""))?"Symbol(src)_1."+ft:"",se=Function.prototype.toString,ce=/^\[object .+?Constructor\]$/,fe=Function.prototype,pe=Object.prototype,de=fe.toString,ve=pe.hasOwnProperty,he=RegExp("^"+de.call(ve).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ye(t){if(!V(t)||(e=t,pt&&pt in e))return!1;var e,n=(function(r){if(!V(r))return!1;var o=_t(r);return o==le||o==ie||o==ae||o==ue})(t)?he:ce;return n.test((function(r){if(r!=null){try{return se.call(r)}catch{}try{return r+""}catch{}}return""})(t))}function Y(t,e){var n=(function(r,o){return r==null?void 0:r[o]})(t,e);return ye(n)?n:void 0}var dt=(function(){try{var t=Y(Object,"defineProperty");return t({},"",{}),t}catch{}})(),me=9007199254740991,_e=/^(?:0|[1-9]\d*)$/;function ge(t,e){var n=typeof t;return!!(e=e??me)&&(n=="number"||n!="symbol"&&_e.test(t))&&t>-1&&t%1==0&&t<e}function bt(t,e){return t===e||t!=t&&e!=e}var be=Object.prototype.hasOwnProperty;function we(t,e,n){var r=t[e];be.call(t,e)&&bt(r,n)&&(n!==void 0||e in t)||(function(o,l,i){l=="__proto__"&&dt?dt(o,l,{configurable:!0,enumerable:!0,value:i,writable:!0}):o[l]=i})(t,e,n)}var je=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oe=/^\w*$/,$=Y(Object,"create"),Se=Object.prototype.hasOwnProperty,Ee=Object.prototype.hasOwnProperty;function b(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function L(t,e){for(var n=t.length;n--;)if(bt(t[n][0],e))return n;return-1}b.prototype.clear=function(){this.__data__=$?$(null):{},this.size=0},b.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},b.prototype.get=function(t){var e=this.__data__;if($){var n=e[t];return n==="__lodash_hash_undefined__"?void 0:n}return Se.call(e,t)?e[t]:void 0},b.prototype.has=function(t){var e=this.__data__;return $?e[t]!==void 0:Ee.call(e,t)},b.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=$&&e===void 0?"__lodash_hash_undefined__":e,this};var Ce=Array.prototype.splice;function C(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}C.prototype.clear=function(){this.__data__=[],this.size=0},C.prototype.delete=function(t){var e=this.__data__,n=L(e,t);return!(n<0)&&(n==e.length-1?e.pop():Ce.call(e,n,1),--this.size,!0)},C.prototype.get=function(t){var e=this.__data__,n=L(e,t);return n<0?void 0:e[n][1]},C.prototype.has=function(t){return L(this.__data__,t)>-1},C.prototype.set=function(t,e){var n=this.__data__,r=L(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this};var Pe=Y(W,"Map");function R(t,e){var n,r,o=t.__data__;return((r=typeof(n=e))=="string"||r=="number"||r=="symbol"||r=="boolean"?n!=="__proto__":n===null)?o[typeof e=="string"?"string":"hash"]:o.map}function w(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}w.prototype.clear=function(){this.size=0,this.__data__={hash:new b,map:new(Pe||C),string:new b}},w.prototype.delete=function(t){var e=R(this,t).delete(t);return this.size-=e?1:0,e},w.prototype.get=function(t){return R(this,t).get(t)},w.prototype.has=function(t){return R(this,t).has(t)},w.prototype.set=function(t,e){var n=R(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this};var xe="Expected a function";function Z(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(xe);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],l=n.cache;if(l.has(o))return l.get(o);var i=t.apply(this,r);return n.cache=l.set(o,i)||l,i};return n.cache=new(Z.Cache||w),n}Z.Cache=w;var vt,U,H,Ie=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Fe=/\\(\\)?/g,ze=(vt=function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Ie,function(n,r,o,l){e.push(o?l.replace(Fe,"$1"):r||n)}),e},U=Z(vt,function(t){return H.size===500&&H.clear(),t}),H=U.cache,U);function wt(t,e){return K(t)?t:(function(n,r){if(K(n))return!1;var o=typeof n;return!(o!="number"&&o!="symbol"&&o!="boolean"&&n!=null&&!X(n))||Oe.test(n)||!je.test(n)||r!=null&&n in Object(r)})(t,e)?[t]:ze((function(n){return n==null?"":gt(n)})(t))}function jt(t){if(typeof t=="string"||X(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function $e(t,e,n){var r=t==null?void 0:(function(o,l){for(var i=0,g=(l=wt(l,o)).length;o!=null&&i<g;)o=o[jt(l[i++])];return i&&i==g?o:void 0})(t,e);return r===void 0?n:r}function ke(t,e,n){return t==null?t:(function(r,o,l){if(!V(r))return r;for(var i=-1,g=(o=wt(o,r)).length,x=g-1,y=r;y!=null&&++i<g;){var p=jt(o[i]),j=l;if(p==="__proto__"||p==="constructor"||p==="prototype")return r;if(i!=x){var I=y[p];(j=void 0)==null&&(j=V(I)?I:ge(o[i+1])?[]:{})}we(y,p,j),y=y[p]}return r})(t,e,n)}function J(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!$t(t)}const ht=Ct({name:"MaForm",props:{modelValue:{type:Object,default:()=>({})},options:{type:Object,default:()=>({})},items:{type:Array,default:()=>[]}},directives:{Loading:Pt},setup(t,{slots:e,attrs:n,expose:r}){const o=E(t.modelValue),l=E(t.options),i=E(t.items),g=xt("MaFormOptions"),x=E(!1),y=E(),p=E(!1),j=()=>{p.value=window.innerWidth<768};yt(async()=>{x.value=!0,window.addEventListener("resize",j)}),It(()=>{x.value=!1,window.removeEventListener("resize",j)});const I=(u,a)=>{var s,d,m,v;const F=typeof a.prop=="function"?a.prop():a.prop;let h=null;return(s=u==null?void 0:u.children)!=null&&s.default?h=(d=u==null?void 0:u.children)==null?void 0:d.default:(m=a==null?void 0:a.renderSlots)!=null&&m.default?h=(v=a.renderSlots)==null?void 0:v.default:a!=null&&a.children&&(h=B((a==null?void 0:a.children)??[])),rt(u,{ref:"formItem-{$prop}",modelValue:$e(o.value,F),"onUpdate:modelValue":O=>ke(o.value,F,O),...a==null?void 0:a.renderProps},{...a==null?void 0:a.renderSlots,default:h})},B=u=>{const{layout:a}=l.value;return u==null?void 0:u.map(s=>{let d;const{label:m,prop:v,itemProps:F,hide:h,show:O,cols:k,itemSlots:c}=s,D=typeof h=="function"?h:()=>h===!0,M=typeof O=="function"?O:()=>O!==!1,tt=typeof v=="function"?v():v,et=()=>nt(_(Mt,A({ref:`formItemRef-${tt}`,label:typeof m=="function"?m():m,prop:tt},F),{default:()=>{var S;return((S=c==null?void 0:c.default)==null?void 0:S.call(c))??s.render?(f=>{if(typeof f.render=="string"){const T=f.render[0].toUpperCase().concat(f.render.substring(1,f.render.length));if(it[T])return I(it[T],f)}else if(typeof f.render=="function"){const T=f.render;return I(T({item:f,formData:o.value}),f)}})(s):null},label:c!=null&&c.label?S=>{var f;return((f=c==null?void 0:c.label)==null?void 0:f.call(c,S))??null}:void 0,error:c!=null&&c.error?S=>{var f;return((f=c==null?void 0:c.error)==null?void 0:f.call(c,S))??null}:void 0}),[[kt,D(s,o.value)!==!0]]);return _(ot,null,[M(s,o.value)&&(a===void 0||a==="flex"?_(N("el-col"),k,J(d=et())?d:{default:()=>[d]}):et())])})},Ot=()=>{var u;let a,s;const{layout:d,flex:m,grid:v,loading:F,loadingConfig:h,containerClass:O,footerSlot:k,...c}=l.value,{style:D}=v??{};return _(ot,null,[_(zt,A({model:o,ref:y},c,n),{default:()=>{var M;return[((M=e.default)==null?void 0:M.call(e))??(d===void 0||d==="flex"?_(N("el-row"),A({gutter:p.value?0:15},m),J(a=B(i.value??[]))?a:{default:()=>[a]}):_(N("el-space"),A({style:D??"width: 100%"},v),J(s=B(i.value??[]))?s:{default:()=>[s]}))]}}),((u=e.footer)==null?void 0:u.call(e))??(k?rt(k):null)])},q=()=>{const{loading:u,loadingConfig:a,containerClass:s}=l.value;return nt(_("div",{className:["mineadmin-form",s],"element-loading-svg":(a==null?void 0:a.svg)??'<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 1024 1024"><path fill="currentColor" d="M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248m452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248M828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0"/></svg>',"element-loading-svg-view-box":(a==null?void 0:a.viewBox)??"-9, -9, 50, 50","element-loading-text":(a==null?void 0:a.text)??null,"element-loading-spinner":(a==null?void 0:a.spinner)??null,"element-loading-background":(a==null?void 0:a.spinner)??null,"element-loading-custom-class":(a==null?void 0:a.customClass)??null},[Ot()]),[[Ft("loading"),u]])},Q=u=>i.value=u;return r({setLoadingState:u=>l.value.loading=u,setOptions:u=>l.value=Object.assign(l.value,u),getOptions:()=>l.value,setItems:Q,getItems:()=>i.value,appendItem:u=>i.value.push(u),removeItem:u=>Q(i.value.filter(a=>(typeof a.prop=="function"?a.prop():a.prop)!==u)),getItemByProp:u=>{var a;return((a=i.value.filter(s=>(typeof s.prop=="function"?s.prop():s.prop)===u))==null?void 0:a[0])??null},isMobileState:()=>p.value,getElFormRef:()=>y.value}),()=>g.ssr?x.value&&q():q()}});function Te(t){return new Promise((e,n)=>{const r=Et();yt(async()=>{await St(()=>{if(r&&r.refs[t]){const o=r.refs[t];e({...o})}else n("[@mineadmin/form]: not found ref for ma-form component")})})})}const Ae={install(t,e){t.component(ht.name,ht),t.provide("MaFormOptions",e??{ssr:!1})}};export{Te as A,Ae as R};
