import{d as N,Z as D,r as _,e as m,f as g,h as n,b as d,as as l,aj as c,O as t,F as L,ag as b,l as x,z as I,ah as O,W as T}from"./index-BsGhlh_X.js";import{u as K}from"./useLocalTrans-APekFW45.js";import{h as z,b as F,c as H,d as w}from"./app-DtoljjsP.js";import P from"./notice-X7QwZ_L4.js";import $ from"./filter-eEIw2pST.js";import R from"./list-BgW_sl13.js";import V from"./localList-hwsa0lQL.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./__commonjsHelpers__-CqkleIqs.js";import"./useDialog-o5jPWvsH.js";import"./index.vue_vue_type_script_setup_true_lang-CGvxUkWP.js";import"./useTrans-kmCwB86_.js";import"./useMessage-npDFBwy-.js";import"./detail-DNcyo4kk.js";const B={class:"mine-layout relative top-0"},E=N({name:"MineAppStoreRoute",__name:"index",setup(S){const u=D(),s=K(),v=_(),y=_(),e=_({isDev:!1,isHasAccessToken:!1,tokenCheckCompleted:!1,uploadLoading:!1,loading:!1,allStore:!0,total:0}),r=_({my:[],local:[],list:[]}),h=_({page:1,size:9999,keywords:void 0,add_type:void 0,type:void 0,tag:void 0});function C(p={page:1,size:9999,created_at_desc:!0}){const i=Object.assign(h.value,p);e.value.loading=!0,w(i).then(a=>{var o;if(a.code===200){const{list:f,rowTotal:k}=(o=a.data)==null?void 0:o.data;r.value.list=f,e.value.total=k,e.value.loading=!1}})}return e.value.isDev&&z().then(p=>{var i,a;p.code===200&&(e.value.isHasAccessToken=p.data.isHas,e.value.tokenCheckCompleted=!0,p.data.isHas?(C(),F().then(o=>{o.code===200&&(r.value.my=o.data)}),H().then(o=>{o.code===200&&(r.value.local=o.data)})):(a=(i=v.value)==null?void 0:i.open)==null||a.call(i))}),T("storeMeta",e),T("filterParams",h),T("dataList",r),T("appList",y),T("requestAppList",C),(p,i)=>{const a=m("el-empty"),o=m("el-result"),f=x,k=m("el-icon"),M=m("el-button");return n(),g("div",B,[d(P,{ref_key:"noticeRef",ref:v},null,512),t(e).isDev&&t(e).isHasAccessToken?(n(),g(L,{key:0},[d($),t(r).list.length>0&&t(e).allStore?(n(),c(R,{key:0})):l("",!0),t(e).allStore?l("",!0):(n(),c(V,{key:1})),t(r).list.length===0&&!t(e).loading?(n(),c(a,{key:2,class:"mt-40",description:t(s)("notFoundApp")},null,8,["description"])):l("",!0)],64)):l("",!0),!t(e).isDev&&!t(e).loading?(n(),c(o,{key:1,class:"h-680px",icon:"warning",title:t(s)("noDevMainTitle"),"sub-title":t(s)("noDevSubTitle")},null,8,["title","sub-title"])):l("",!0),t(e).isDev&&!t(e).tokenCheckCompleted&&!t(e).loading?(n(),c(o,{key:2,class:"h-680px",title:t(s)("checkingTokenMainTitle"),"sub-title":t(s)("checkingTokenSubTitle")},{icon:b(()=>[d(k,{size:75},{default:b(()=>[d(f,{name:"svg-spinners:180-ring"})]),_:1})]),_:1},8,["title","sub-title"])):l("",!0),t(e).isDev&&t(e).tokenCheckCompleted&&!t(e).isHasAccessToken&&!t(e).loading?(n(),c(o,{key:3,class:"h-680px",icon:"error",title:t(s)("noTokenMainTitle"),"sub-title":t(s)("noTokenSubTitle")},{extra:b(()=>[d(M,{type:"primary",onClick:i[0]||(i[0]=j=>t(u).refreshTab())},{default:b(()=>[I(O(t(s)("refreshAppStore")),1)]),_:1})]),_:1},8,["title","sub-title"])):l("",!0)])}}});function A(S){const u=S;u.__i18n=u.__i18n||[],u.__i18n.push({locale:"",resource:{zh_CN:{appstore:{t:0,b:{t:2,i:[{t:3}],s:"应用商店"}},noDevMainTitle:{t:0,b:{t:2,i:[{t:3}],s:"应用商店无法使用"}},noDevSubTitle:{t:0,b:{t:2,i:[{t:3}],s:"对不起，应用商店只在开发环境开放使用。"}},noTokenMainTitle:{t:0,b:{t:2,i:[{t:3}],s:"未设置 MINE_ACCESS_TOKEN"}},noTokenSubTitle:{t:0,b:{t:2,i:[{t:3}],s:"目前无法获取到应用商店数据，请先设置 MINE_ACCESS_TOKEN。"}},checkingTokenMainTitle:{t:0,b:{t:2,i:[{t:3}],s:"正在检查 MINE_ACCESS_TOKEN"}},checkingTokenSubTitle:{t:0,b:{t:2,i:[{t:3}],s:"正在验证访问令牌，请稍候..."}},refreshAppStore:{t:0,b:{t:2,i:[{t:3}],s:"刷新应用商店"}},notFoundApp:{t:0,b:{t:2,i:[{t:3}],s:"没有找到任何应用"}}},zh_TW:{appstore:{t:0,b:{t:2,i:[{t:3}],s:"應用商店"}},noDevMainTitle:{t:0,b:{t:2,i:[{t:3}],s:"應用商店無法使用"}},noDevSubTitle:{t:0,b:{t:2,i:[{t:3}],s:"對不起，應用商店僅在開發環境開放使用。"}},noTokenMainTitle:{t:0,b:{t:2,i:[{t:3}],s:"未設置 MINE_ACCESS_TOKEN"}},noTokenSubTitle:{t:0,b:{t:2,i:[{t:3}],s:"目前無法獲取到應用商店數據，請先設置 MINE_ACCESS_TOKEN。"}},checkingTokenMainTitle:{t:0,b:{t:2,i:[{t:3}],s:"正在檢查 MINE_ACCESS_TOKEN"}},checkingTokenSubTitle:{t:0,b:{t:2,i:[{t:3}],s:"正在驗證訪問令牌，請稍候..."}},refreshAppStore:{t:0,b:{t:2,i:[{t:3}],s:"刷新應用商店"}},notFoundApp:{t:0,b:{t:2,i:[{t:3}],s:"沒有找到任何應用"}}},en:{appstore:{t:0,b:{t:2,i:[{t:3}],s:"App Store"}},noDevMainTitle:{t:0,b:{t:2,i:[{t:3}],s:"App Store is not available"}},noDevSubTitle:{t:0,b:{t:2,i:[{t:3}],s:"Sorry, the App Store is only open for use in the development environment."}},noTokenMainTitle:{t:0,b:{t:2,i:[{t:3}],s:"MINE_ACCESS_TOKEN is not set"}},noTokenSubTitle:{t:0,b:{t:2,i:[{t:3}],s:"Currently unable to retrieve App Store data. Please set MINE_ACCESS_TOKEN first."}},checkingTokenMainTitle:{t:0,b:{t:2,i:[{t:3}],s:"Checking MINE_ACCESS_TOKEN"}},checkingTokenSubTitle:{t:0,b:{t:2,i:[{t:3}],s:"Verifying access token, please wait..."}},refreshAppStore:{t:0,b:{t:2,i:[{t:3}],s:"Refresh App Store"}},notFoundApp:{t:0,b:{t:2,i:[{t:3}],s:"No apps found"}}}}})}typeof A=="function"&&A(E);const at=q(E,[["__scopeId","data-v-7d08fa29"]]);export{at as default};
