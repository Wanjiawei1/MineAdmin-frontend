import{d as j,b5 as x,r as d,b6 as w,X as z,bh as A,L as O,c as I,V as K,o as P,a2 as U,e as C,av as X,aj as q,h as B,O as t,bi as F,m as G,ag as s,ap as r,as as H,j as M,b as u,l as J,w as Q,f as Y,z as m,ah as g}from"./index-fEaXY3hb.js";import{u as Z}from"./useTrans-BxQFVQVs.js";const ee={class:"relative flex items-center justify-between"},le=j({name:"MaDialog",__name:"index",props:{fullscreen:{type:Boolean,default:!1},fullscreenModifiers:{},modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:x(["ok","cancel"],["update:fullscreen","update:modelValue"]),setup(v,{emit:D}){const p=D,L=d(),i=d("55%"),c=w(v,"fullscreen"),k=d(!1),h=d(!1),y=z({todo:"mingcute:fullscreen-line",exit:"mingcute:fullscreen-exit-line"});function T(e){k.value=e}function W(e){h.value=e}const o=A(),$=Z().globalTrans,f=w(v,"modelValue");function b(){p("ok",{okLoadingState:T,attrs:o})}function E(){p("cancel",{cancelLoadingState:W,attrs:o})}const{current:N}=O(),_=I(()=>Array.from(N));return K(()=>_.value,async()=>{const[e,l]=_.value;f.value&&e==="control"&&l==="enter"&&b()}),P(()=>{U(document.body,e=>{const[l]=e,{width:a}=l.contentRect;a<768&&(i.value=(o==null?void 0:o.xsWidth)??"90%"),a>=768&&a<992&&(i.value=(o==null?void 0:o.smWidth)??"75%"),a>=992&&a<1200&&(i.value=(o==null?void 0:o.mdWidth)??"65%"),a>=1200&&a<1920&&(i.value=(o==null?void 0:o.lgWidth)??"55%")})}),(e,l)=>{const a=J,R=C("el-link"),V=C("el-button"),S=X("loading");return B(),q(t(F),G({ref_key:"dialogRef",ref:L,modelValue:f.value,"onUpdate:modelValue":l[1]||(l[1]=n=>f.value=n),fullscreen:c.value,width:t(i),draggable:""},e.$attrs),{default:s(()=>[Q((B(),Y("div",null,[r(e.$slots,"default")])),[[S,e.$attrs.loading??!1]])]),header:s(()=>[M("div",ee,[M("div",null,[r(e.$slots,"header",{},()=>[m(g(e.$attrs.title??""),1)])]),u(R,{class:"el-dialog__headerbtn relative !right-[2px] !-top-[6px]",underline:"never",onClick:l[0]||(l[0]=()=>c.value=!c.value)},{default:s(()=>[u(a,{name:c.value?t(y).exit:t(y).todo,size:15},null,8,["name"])]),_:1})])]),footer:s(()=>[r(e.$slots,"footerBefore"),e.$attrs.footer?r(e.$slots,"footer",{key:0},()=>[u(V,{type:"primary",loading:t(k),onClick:b},{default:s(()=>{var n;return[m(g(((n=e.$attrs)==null?void 0:n.okText)??`${t($)("crud.ok")} Ctrl + Enter`),1)]}),_:1},8,["loading"]),u(V,{loading:t(h),onClick:E},{default:s(()=>{var n;return[m(g(((n=e.$attrs)==null?void 0:n.cancelText)??`${t($)("crud.cancel")} Esc`),1)]}),_:1},8,["loading"])]):H("",!0),r(e.$slots,"footerAfter")]),_:3},16,["modelValue","fullscreen","width"])}}});export{le as _};
