import{d as h,B as k,A as w,r as b,y as S,o as x,ad as y,b as e,e as a,l as o,ae as z,F as C}from"./index-BsGhlh_X.js";import{L as R}from"./index-S7JUkKD3.js";import{u as s}from"./useTrans-kmCwB86_.js";import"./__commonjsHelpers__-CqkleIqs.js";import"./logo-DM73t8tg.js";const I=h({name:"MineUc",setup(){var r,c;const t=k().getUserInfo(),v=w(),l=b(((c=(r=S().getSettings("app"))==null?void 0:r.welcomePage)==null?void 0:c.path)??"/welcome"),i=()=>e(C,null,[z.map(n=>e("li",null,[e(a("router-link"),{to:n.path,class:{active:n.path===v.path}},{default:()=>{var m,d,p,f;return[((m=n.meta)==null?void 0:m.icon)&&e(o,{name:(d=n.meta)==null?void 0:d.icon,size:20},null),e("span",null,[(p=n.meta)!=null&&p.i18n?s(n.meta.i18n):(f=n.meta)==null?void 0:f.title])]}})]))]),g=()=>e("div",{class:"mine-uc-userinfo"},[e("div",{class:"flex items-center gap-x-3"},[t.avatar&&e("img",{src:t.avatar,alt:t.username,class:"mine-uc-img-avatar"},null),!t.avatar&&e("div",{class:"mine-uc-text-avatar"},[t.username[0].toUpperCase()]),e("a",{class:"mine-uc-username"},[e("span",{class:"mine-uc-u"},[t.username]),e("span",{ckass:"mine-uc-n"},[t.nickname])])]),e(a("m-tooltip"),{text:s("mineAdmin.uc.backControl")},{default:()=>[e(a("router-link"),{className:"mine-back-control",to:l.value},{default:()=>[e(o,{name:"ri:arrow-go-back-line",size:14},null)]})]})]),u=()=>{const n=document.querySelector(".mine-uc-content");document.body.offsetWidth<1024?n.style.height=`${document.body.offsetHeight-58}px`:n.style.height="100%"};return x(()=>window.addEventListener("resize",u)),y(()=>window.removeEventListener("resize",u)),()=>e("div",{class:"mine-uc-container"},[e("div",{class:"mine-uc-aside hidden lg:block"},[e(R,{title:s("mineAdmin.uc.title")},null),e("ul",{class:"mine-uc-menu"},[i()]),g()]),e("div",{class:"mine-uc-content"},[e(a("router-view"),null,null)]),e("ul",{class:"mine-uc-bottom-menu"},[i(),e("li",null,[e(a("router-link"),{to:l.value},{default:()=>[e(o,{name:"ri:arrow-go-back-line",size:20},null),e("span",null,[s("mineAdmin.uc.shortBackControl")])]})])])])}});export{I as default};
