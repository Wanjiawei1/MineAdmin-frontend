import{d as L,X as P,r as v,e as V,f as x,h as y,j as n,b as _,ah as m,O as o,b0 as z,G as p}from"./index-BsGhlh_X.js";import{u as a}from"./useLocalTrans-APekFW45.js";import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./__commonjsHelpers__-CqkleIqs.js";const C={class:"mine-form-item"},A={class:"mine-form-item-title"},N={class:"mine-form-item"},T={class:"mine-form-item-title"},O={class:"mine-form-item"},S={class:"mine-form-item-title"},u=L({__name:"password-form",emits:["submit"],setup(f,{expose:r,emit:g}){const I=g,i=a(),s=P({old_password:"",new_password:"",new_password_confirmation:""}),l=v(!0);function w(t){const e=t==null?void 0:t.target;s[e.name]===void 0||s[e.name]===""?(e.classList.add("!ring-red-5"),p.error(i(`changeInfo.${e.name}Placeholder`),{zIndex:9999}),l.value=!1):(e.classList.remove("!ring-red-5"),l.value=!0)}async function h(){if(Object.keys(s).forEach(t=>{(s[t]===void 0||s[t]==="")&&(p.error(i(`changeInfo.${t}Placeholder`),{zIndex:9999}),l.value=!1)}),!l.value)return!1;s.new_password.length<8&&p.error(i("changeInfo.new_passwordLength"),{zIndex:9999}),s.new_password!==s.new_password_confirmation&&p.error(i("changeInfo.passwordsAreInconsistent"),{zIndex:9999}),I("submit",{form:s,type:"password"})}return r({submit:h}),(t,e)=>{const c=V("m-input");return y(),x("form",{class:"mine-form",onSubmit:z(h,["prevent"])},[n("div",C,[n("div",A,m(o(a)("changeInfo.old_passwordLabel")),1),_(c,{modelValue:o(s).old_password,"onUpdate:modelValue":e[0]||(e[0]=d=>o(s).old_password=d),type:"password",name:"old_password",placeholder:o(a)("changeInfo.old_passwordPlaceholder"),onBlur:w},null,8,["modelValue","placeholder"])]),n("div",N,[n("div",T,m(o(a)("changeInfo.new_passwordLabel")),1),_(c,{modelValue:o(s).new_password,"onUpdate:modelValue":e[1]||(e[1]=d=>o(s).new_password=d),type:"password",name:"new_password",placeholder:o(a)("changeInfo.new_passwordPlaceholder"),onBlur:w},null,8,["modelValue","placeholder"])]),n("div",O,[n("div",S,m(o(a)("changeInfo.new_password_confirmationLabel")),1),_(c,{modelValue:o(s).new_password_confirmation,"onUpdate:modelValue":e[2]||(e[2]=d=>o(s).new_password_confirmation=d),type:"password",name:"new_password_confirmation",placeholder:o(a)("changeInfo.new_password_confirmationPlaceholder"),onBlur:w},null,8,["modelValue","placeholder"])])],32)}}});function b(f){const r=f;r.__i18n=r.__i18n||[],r.__i18n.push({locale:"",resource:{en:{changeInfo:{old_passwordLabel:{t:0,b:{t:2,i:[{t:3}],s:"Old password"}},new_passwordLabel:{t:0,b:{t:2,i:[{t:3}],s:"New password"}},new_password_confirmationLabel:{t:0,b:{t:2,i:[{t:3}],s:"Confirm password"}},old_passwordPlaceholder:{t:0,b:{t:2,i:[{t:3}],s:"please input old password"}},new_passwordPlaceholder:{t:0,b:{t:2,i:[{t:3}],s:"please input new password"}},new_password_confirmationPlaceholder:{t:0,b:{t:2,i:[{t:3}],s:"please input confirm password"}},new_passwordLength:{t:0,b:{t:2,i:[{t:3}],s:"The password needs to be at least 8 digits"}},passwordsAreInconsistent:{t:0,b:{t:2,i:[{t:3}],s:"The new password is inconsistent with the old password"}}}},zh_CN:{changeInfo:{old_passwordLabel:{t:0,b:{t:2,i:[{t:3}],s:"旧密码"}},new_passwordLabel:{t:0,b:{t:2,i:[{t:3}],s:"新密码"}},new_password_confirmationLabel:{t:0,b:{t:2,i:[{t:3}],s:"确认密码"}},old_passwordPlaceholder:{t:0,b:{t:2,i:[{t:3}],s:"请输入旧密码"}},new_passwordPlaceholder:{t:0,b:{t:2,i:[{t:3}],s:"请输入新密码"}},new_password_confirmationPlaceholder:{t:0,b:{t:2,i:[{t:3}],s:"请输入确认密码"}},new_passwordLength:{t:0,b:{t:2,i:[{t:3}],s:"密码至少需要8位"}},passwordsAreInconsistent:{t:0,b:{t:2,i:[{t:3}],s:"新密码与旧密码不一致"}}}},zh_TW:{changeInfo:{old_passwordLabel:{t:0,b:{t:2,i:[{t:3}],s:"舊密碼"}},new_passwordLabel:{t:0,b:{t:2,i:[{t:3}],s:"新密碼"}},new_password_confirmationLabel:{t:0,b:{t:2,i:[{t:3}],s:"確認密碼"}},old_passwordPlaceholder:{t:0,b:{t:2,i:[{t:3}],s:"請輸入舊密碼"}},new_passwordPlaceholder:{t:0,b:{t:2,i:[{t:3}],s:"請輸入新密碼"}},new_password_confirmationPlaceholder:{t:0,b:{t:2,i:[{t:3}],s:"請輸入確認密碼"}},new_passwordLength:{t:0,b:{t:2,i:[{t:3}],s:"密碼至少需要8位"}},passwordsAreInconsistent:{t:0,b:{t:2,i:[{t:3}],s:"新密碼與舊密碼不一致"}}}}}})}typeof b=="function"&&b(u);const $=B(u,[["__scopeId","data-v-7c2ef3b2"]]);export{$ as default};
