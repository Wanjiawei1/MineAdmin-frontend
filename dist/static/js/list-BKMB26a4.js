import{A as Q,d as z}from"./detail-BzWzlV1n.js";import{u as U}from"./useLocalTrans-BLiEMMr_.js";import{u as W}from"./useMessage-BpWl7_QK.js";import{d as G,i as L,r as H,A as J,x as K,o as X,e as v,av as Y,w as Z,O as i,f as a,h as s,b as x,F as A,ak as B,as as l,j as e,ag as p,aj as M,z as y,ah as o,bo as tt}from"./index-fEaXY3hb.js";import{_ as et}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./app-wkSElC4t.js";import"./useTrans-BxQFVQVs.js";import"./__commonjsHelpers__-Cpj98o6Y.js";const st={class:"mine-card mine-appstore-list"},ot={class:"appstore-item"},at={key:0,class:"absolute top-2.5 z-10 w-auto origin-center rotate-45 bg-red-600 px-5 text-white -right-5"},it={key:1,class:"absolute top-8 z-10 w-32 origin-center rotate-45 bg-lime-600 px-5 text-center text-white -right-11"},nt=["onClick"],rt={class:"relative h-48"},ct={class:"absolute h-38 w-full overflow-hidden text-center blur-30"},lt=["src"],dt={class:"absolute bottom-2 right-2 space-x-2"},_t={class:"p-3 pb-2"},ut={class:"flex items-center justify-between"},pt={class:"text-sm"},ht={class:"text-right text-xs text-gray-500 leading-5 dark:text-gray-400"},gt={class:"dark:text-dark-0.5 mt-1 truncate text-xs text-gray-500"},ft={class:"grid grid-cols-2 mt-5 text-xs"},vt={class:"text-gray-700 leading-6 dark:text-gray-300"},xt={class:"hover:underline"},yt={class:"text-right"},mt={key:1},bt={class:"flex items-center justify-end leading-6"},kt={key:0,class:"text-gray-400 line-through"},wt={class:"ml-2 text-emerald-700"},Ct={key:2},Nt={class:"flex items-center justify-end leading-6"},jt={key:0,class:"text-gray-400 line-through"},qt={class:"ml-2 text-blue-600"},V=G({__name:"list",setup(m){const r=L("storeMeta"),d=L("dataList"),_=U(),$=W(),b=H(),h=J(),R=K(null,!0);function g(n){b.value.open(n)}function T(n){return!tt(d.value.local[n])&&d.value.local[n].status}return X(()=>{var n,f;if((n=h.query)!=null&&n.install){const c=((f=h.query.install)==null?void 0:f.split("/")[1])??void 0;c?g(c):$.alertError(`${_("pluginNotExists",{name:h.query.install})}`)}}),(n,f)=>{const c=v("el-tag"),F=v("el-image"),I=v("el-link"),O=Y("loading");return Z((s(),a("div",st,[(s(!0),a(A,null,B(i(d).list,t=>{var k,w,C,N,j,q,D,E;return s(),a("div",ot,[i(d).my.includes(t.identifier)?(s(),a("div",at," 已购买 ")):l("",!0),T(t.identifier)?(s(),a("div",it," 已安装 ")):l("",!0),e("a",{class:"h-44 w-full",href:"javascript:",onClick:u=>g(t.identifier)},[e("div",rt,[e("div",ct,[e("img",{src:t.homepage[0],alt:"image"},null,8,lt)]),x(F,{class:"appstore-item-image",src:t.homepage[0],fit:"contain"},{default:p(()=>[e("div",dt,[(s(!0),a(A,null,B(t.tags,(u,P)=>(s(),M(c,{key:P,color:u.color},{default:p(()=>[y(o(u.name),1)]),_:2},1032,["color"]))),128))])]),_:2},1032,["src"])])],8,nt),e("div",_t,[e("div",ut,[e("div",pt,[x(I,{type:"primary",onClick:u=>g(t.identifier)},{default:p(()=>[y(o(t.name),1)]),_:2},1032,["onClick"])]),e("div",ht,o(`${i(R)(t.created_at).fromNow()}更新`),1)]),e("div",gt,o(t==null?void 0:t.description),1),e("div",ft,[e("div",vt,[e("span",xt,o(t.created_by),1)]),e("div",yt,[t.auth.type===0?(s(),M(c,{key:0,type:"primary"},{default:p(()=>[y(o(i(_)("free")),1)]),_:1})):t.auth.type===1?(s(),a("div",mt,[e("div",bt,[((k=t.auth)==null?void 0:k.integral_discount)!=="0.00"?(s(),a("div",kt,o((w=t.auth)==null?void 0:w.integral_quota)+" "+o(i(_)("point")),1)):l("",!0),e("div",wt,o(i(z)((C=t.auth)==null?void 0:C.integral_discount,(N=t.auth)==null?void 0:N.integral_quota))+" "+o(i(_)("point")),1)])])):t.auth.type===2?(s(),a("div",Ct,[e("div",Nt,[((j=t.auth)==null?void 0:j.basic_discount)!=="0.00"?(s(),a("div",jt," ￥"+o((q=t.auth)==null?void 0:q.basic_quota),1)):l("",!0),e("div",qt," ￥"+o(i(z)((D=t.auth)==null?void 0:D.basic_discount,(E=t.auth)==null?void 0:E.basic_quota)),1)])])):l("",!0)])])])])}),256)),x(Q,{ref_key:"detailRef",ref:b},null,512)])),[[O,i(r).loading]])}}});function S(m){const r=m;r.__i18n=r.__i18n||[],r.__i18n.push({locale:"",resource:{zh_CN:{pluginNotExists:{t:0,b:{t:2,i:[{t:3,v:"要安装的插件：%"},{t:4,k:"name"},{t:3,v:" 不存在"}]}},free:{t:0,b:{t:2,i:[{t:3}],s:"免费"}},point:{t:0,b:{t:2,i:[{t:3}],s:"积分"}}},zh_TW:{pluginNotExists:{t:0,b:{t:2,i:[{t:3,v:"要安裝的外掛程式：%"},{t:4,k:"name"},{t:3,v:" 不存在"}]}},free:{t:0,b:{t:2,i:[{t:3}],s:"免費"}},point:{t:0,b:{t:2,i:[{t:3}],s:"積分"}}},en:{pluginNotExists:{t:0,b:{t:2,i:[{t:3,v:"Plugin to install：%"},{t:4,k:"name"},{t:3,v:" Does not exist"}]}},free:{t:0,b:{t:2,i:[{t:3}],s:"free"}},point:{t:0,b:{t:2,i:[{t:3}],s:"points"}}}}})}typeof S=="function"&&S(V);const Vt=et(V,[["__scopeId","data-v-0cb11c95"]]);export{Vt as default};
