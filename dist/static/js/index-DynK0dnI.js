import{y as L,d as C,A as F,J as Z,K as U,r as k,c as B,b as e,T as O,w as z,v as E,l as x,e as P,o as X,L as fe,M as Me,N as Se,n as ee,i as ve,O as Y,F as N,P as ke,Q as Ae,I as he,R as me,S as be,m as Ce,U as pe,V as j,W as Te,X as ge,Y as ae,Z as V,C as le,G as se,$ as Be,a0 as Pe,B as ie,z as S,a1 as Le,a as Ie,a2 as He,a3 as ze,a4 as Re,a5 as Ee,a6 as je}from"./index-BsGhlh_X.js";import{L as ne}from"./index-S7JUkKD3.js";import{u as Oe}from"./useParentNode-CJHsJhLn.js";import{u as w}from"./useTrans-kmCwB86_.js";import{P as Ne}from"./overlayscrollbars-vue-BeccWTt5.js";import{u as Fe}from"./useSortable-CDp2l8KB.js";import{Q as Ke}from"./vue3-context-menu.es-DRG-aLUq.js";import{u as qe}from"./useGlobal-IP9QsK9Z.js";import De from"./index-BHCDx2yo.js";import"./__commonjsHelpers__-CqkleIqs.js";import"./logo-DM73t8tg.js";import"./getOnlyWorkAreaHeight-MFsugYQx.js";async function oe(n,l){var o,u,m;const i=L().getSettings("mainAside");switch((o=l==null?void 0:l.meta)==null?void 0:o.type){case"L":window.open((u=l.meta)==null?void 0:u.link,"_blank");break;case"I":await n.push({path:l.path});break;default:if((l==null?void 0:l.redirect)??void 0)await n.push({path:l.redirect});else if(l.path&&(l.component||l.components))await n.push({path:l.path});else if(i.enableOpenFirstRoute&&((m=l==null?void 0:l.children)!=null&&m.length)&&l!=null&&l.children[0]){await oe(n,l==null?void 0:l.children[0]);break}break}}const ye=C({name:"MainAside",setup(){const n=F(),l=Z(),i=U(),{getSettings:o,showMineHeader:u,isBannerLayout:m,isMixedLayout:s,getUserBarState:a,setUserBarState:v}=L(),h=o("mainAside"),b=k(),r=k(!1),g=k(!1),p=k(!1),c=k(!1);function M(){const d=b.value.scrollTop,y=b.value.scrollLeft;r.value=d>0,p.value=y>0;const T=b.value.clientHeight,A=b.value.scrollHeight,I=b.value.clientWidth,H=b.value.scrollWidth;g.value=Math.ceil(d+T)<A,c.value=Math.ceil(y+I)<H}const t=B(()=>({"mine-main-aside-list":!0,"shadow-top":r.value&&!u(),"shadow-bottom":g.value&&!u(),"shadow-left":p.value&&u(),"shadow-right":c.value&&u(),"pt-2 overflow-y-auto":!u(),"flex gap-x-2 px-2 items-center overflow-x-auto":u()})),f=async(d,y)=>{var T,A;if(await oe(l,y),i.activeTopMenu=y,o("mainAside").enableOpenFirstRoute||y!=null&&y.children||!((T=y==null?void 0:y.meta)!=null&&T.hidden)){const I=Oe(d,"a");(A=document.querySelector("a.active"))==null||A.classList.remove("active"),I.classList.add("active")}};return()=>e(O,{name:m()?"mine-main-header":"mine-main-aside"},{default:()=>[e("div",{class:{"mine-main-aside-content":!0,"!border-r-1":U().subMenu.length>0,"flex-col":!u(),"!w-full px-3":u(),"!hidden !lg:flex":!0}},[u()||e(ne,{showTitle:!1},null),e("div",{ref:b,class:t.value,onScroll:M,style:`${u()?"width: calc(100% - 100px) !important;":""}`},[i.topMenu.map((d,y)=>{var T,A,I,H,R,K,q,D,W,_,$;return z(e("a",{class:{active:d.name===((T=n==null?void 0:n.meta)==null?void 0:T.activeName)||d.name===n.name||((A=i.activeTopMenu)==null?void 0:A.name)===d.name,"w-[70%] w-max-[70%]":h.showTitle,"w-[40%] max-w-[40%]":!h.showTitle,"w-[50%] max-w-[50%]":!h.showIcon,"h-[35px]":!h.showIcon,"mx-auto mb-1.5 gap-y-0.5 px-1 py-1 block":!u(),"min-w-100px justify-center !w-auto flex items-center px-2 h-11 gap-x-1":u()},title:(I=d==null?void 0:d.meta)!=null&&I.i18n?w((H=d.meta)==null?void 0:H.i18n):(R=d==null?void 0:d.meta)==null?void 0:R.title,onClick:async J=>await f(J,d)},[h.showIcon&&((K=d==null?void 0:d.meta)==null?void 0:K.icon)&&e("div",null,[e(x,{name:(q=d==null?void 0:d.meta)==null?void 0:q.icon,class:{"mine-main-aside-icon":!0,"w-[30px] text-[18px]":u()}},null)]),h.showTitle&&e("span",{class:"route-link",to:d.path},[(D=d==null?void 0:d.meta)!=null&&D.i18n?w((W=d==null?void 0:d.meta)==null?void 0:W.i18n):(_=d==null?void 0:d.meta)==null?void 0:_.title])]),[[E,!(($=d==null?void 0:d.meta)!=null&&$.hidden)]])})]),e("div",{class:{"flex items-center justify-center gap-x-2":!0,"ml-1.5":u()}},[l.hasRoute("MineAppStoreRoute")&&e(P("m-tooltip"),{text:w("menu.appstore"),placement:"right"},{default:()=>[e("a",{class:"h-14 flex cursor-pointer items-center justify-center",onClick:()=>l.push({path:"/appstore"}),title:w("menu.appstore")},[e(x,{name:"vscode-icons:file-type-azure",size:30},null)])]}),s()&&e(P("m-tooltip"),{text:w(a()?"mineAdmin.userBar.hideState":"mineAdmin.userBar.showState")},{default:()=>[e("div",{class:{"mine-toolbar-btn":!0,hidden:!s()},onClick:()=>{v(!a())}},[e(x,{class:"transition-all duration-300",name:"heroicons:chevron-up-16-solid",size:16,rotate:a()?0:-180},null)])]})])])]})}}),We=C({name:"Header",setup(){const n=L();return()=>e(O,{name:"mine-header"},{default:()=>[n.showMineHeader()&&e("div",{class:"mine-header-main hidden lg:flex"},[e(ne,{class:"ml-2 overflow-hidden !w-[var(--mine-g-sub-aside-width)]"},null),e("div",{class:"w-[calc(100%-var(--mine-g-sub-aside-width))]"},[n.getSettings("app").layout==="mixed"&&e(ye,null,null)])])]})}}),_e=C({name:"searchPanel",setup(){const n=k(),{setSearchPanelEnable:l,getSearchPanelEnable:i}=L(),o=k(""),u=Z(),m=B(()=>u.getRoutes().filter(a=>{var v,h,b,r,g,p;return!["notFound","MineRootLayoutRoute","login"].includes(a.name)&&!((v=a.meta)!=null&&v.hidden)&&(a.components||((h=a.meta)==null?void 0:h.type)==="L")&&!/^\/uc/.test(a.path)&&(((b=a.path)==null?void 0:b.includes(o.value))||((r=a.name)==null?void 0:r.indexOf(o.value))>-1||((p=(g=a.meta)==null?void 0:g.title)==null?void 0:p.indexOf(o.value))>-1)})),s=async a=>{await oe(u,a),l(!1)};return X(()=>{const{escape:a,alt:v,s:h}=fe();Me(async()=>{var b;v.value&&h.value&&!i()&&(l(!0),await ee(),(b=n.value)==null||b.focus()),a.value&&i()&&l(!1)})}),()=>e("div",null,[e("div",{class:"mine-search-panel-mask"},null),e("div",{class:"mine-search-panel-container"},[e("div",{class:"mine-search-input-container"},[e(x,{name:"heroicons:magnifying-glass-solid",size:20,class:"text-gray-4 dark-text-gray-4"},null),z(e("input",{"onUpdate:modelValue":a=>o.value=a,class:"mine-search-input",placeholder:w("mineAdmin.search.placeholder"),ref:n},null),[[Se,o.value]]),e(x,{name:"material-symbols:close-rounded",size:20,class:"cursor-pointer dark-text-stone-2",onClick:()=>l(!1)},null)]),m.value.length>0&&e("ul",{class:"mine-search-list-container"},[m.value.map(a=>{var v,h,b,r,g,p,c;return e("li",{class:"mine-search-item-list",onClick:async()=>await s(a)},[e(x,{name:(v=a.meta)!=null&&v.icon?(h=a.meta)==null?void 0:h.icon:"material-symbols:brightness-empty-outline",size:20},null),e("div",{class:"mine-search-text"},[e("span",{class:"w-6/12"},[((b=a.meta)!=null&&b.i18n?w((r=a.meta)==null?void 0:r.i18n):(g=a.meta)==null?void 0:g.title)??w("mineAdmin.search.noNameMenu")]),e(P("m-tooltip"),{text:((p=a.meta)==null?void 0:p.type)==="L"?(c=a.meta)==null?void 0:c.link:a.path},{default:()=>{var M,t;return[e("span",{class:"mine-search-route-path"},[((M=a.meta)==null?void 0:M.type)==="L"?(t=a.meta)==null?void 0:t.link:a.path])]}})])])})]),m.value.length===0&&e("div",{class:"mt-35 w-full flex flex-col justify-center text-center text-gray-4"},[e(x,{name:"tabler:hourglass-empty",size:50,class:"mx-auto"},null),e("span",{class:"mt-3 text-sm"},[w("mineAdmin.search.notResult")])])])])}});const ce="rootMenu";function $e(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!he(n)}const we=C({name:"MenuItem",props:{uniqueKey:Array,item:Object,level:{type:Number,default:0},subMenu:{type:Boolean,default:!1},expand:{type:Boolean,default:!1}},setup(n,{expose:l}){const i=w().globalTrans,o=ve(ce),u=k(),{uniqueKey:m,item:s,level:a,subMenu:v}=Y(n),h=B(()=>v?o.subMenus[m.at(-1)].active:o.activeIndex===m.at(-1)),b=F(),r=B(()=>{var f,d;return!((f=b==null?void 0:b.meta)!=null&&f.breadcrumb)||!b.meta.breadcrumb.length?!1:(d=b.meta.breadcrumb)==null?void 0:d.some(y=>y.name===s.name)}),g=B(()=>h.value&&(!v||o.isMenuPopup)),p=(f,d)=>{if(f){const y=i(f);return y===f?d:y}return d},c=f=>Ae(f)?f():f,M=B(()=>o.isMenuPopup?"":`padding-left: ${15*(a??0)}px`),t=B(()=>({"relative ml-1 w-[10px] after:absolute after:h-[1.5px] after:w-[6px] after:bg-current after:transition-transform-200 after:content-empty after:-translate-y-[1px] before:absolute before:h-[1.5px] before:w-[6px] before:bg-current before:transition-transform-200 before:content-empty before:-translate-y-[1px]":!0,"before:-rotate-45 before:-translate-x-[2px] after:rotate-45 after:translate-x-[2px]":n.expand,"before:rotate-45 before:-translate-x-[2px] after:-rotate-45 after:translate-x-[2px]":!n.expand,"opacity-0":o.isMenuPopup&&a===0,"-rotate-90 -top-[1.5px]":o.isMenuPopup&&a!==0}));return l({ref:u}),()=>{var f,d,y;return(((f=s.meta)==null?void 0:f.hidden)!==!0||((d=s.meta)==null?void 0:d.hidden)===void 0||((y=s.meta)==null?void 0:y.subForceShow)===!0)&&e("div",{ref:u,class:{"mine-menu-item":!0,active:g.value}},[e(P("router-link"),{custom:!0,to:(m==null?void 0:m.at(-1))??""},{default:({href:T,navigate:A})=>{var H,R,K,q,D,W,_,$,J,re,ue,G,de;let I;return e(N,null,[e(P("m-tooltip"),{enable:o.isMenuPopup&&a===0&&!v,text:p(c((H=s.meta)==null?void 0:H.i18n),c((R=s.meta)==null?void 0:R.title)),placement:"right",class:"h-full w-full"},$e(I=ke(v?"div":"a",{class:{"mine-menu-link":!0,active:g.value,parentActive:((K=b==null?void 0:b.meta)==null?void 0:K.activeName)===s.name||r.value,"px-3!":o.isMenuPopup&&a===0,"no-underline":!v},title:p(c((q=s.meta)==null?void 0:q.i18n),c((D=s.meta)==null?void 0:D.title)),...!v&&{href:((W=s==null?void 0:s.meta)==null?void 0:W.type)==="L"?s.meta.link:T,target:((_=s==null?void 0:s.meta)==null?void 0:_.type)==="L"?"_blank":"_self",click:A}},e(N,null,[e("div",{class:"mine-menu-link-left",style:Y(M)},[(($=s==null?void 0:s.meta)==null?void 0:$.icon)&&e(x,{name:s.meta.icon,size:20,class:"mine-menu-icon",async:!0},null),!(o.isMenuPopup&&a===0&&!o.props.showCollapseName)&&e("span",{class:{"title transition-height transition-opacity transition-width":!0,"opacity-0 w-0 h-0":o.isMenuPopup&&a===0&&!o.props.showCollapseName,"w-full text-center":o.isMenuPopup&&a===0&&o.props.showCollapseName}},[p(c((J=s.meta)==null?void 0:J.i18n),c((re=s.meta)==null?void 0:re.title))])]),e("div",{class:{"mine-menu-badge":!0,"absolute right-10":v&&!(o.isMenuPopup&&a===0),hidden:((ue=s.meta)==null?void 0:ue.badge)===void 0||o.isMenuPopup}},[(de=(G=s.meta)==null?void 0:G.badge)==null?void 0:de.call(G)]),v&&!(o.isMenuPopup&&a===0)&&e("i",{class:t.value},null)])))?I:{default:()=>[I]})])}})])}}}),xe=C({name:"SubMenu",props:{uniqueKey:Array,menu:Object,level:{type:Number,default:0}},setup(n){const{uniqueKey:l,menu:i,level:o}=Y(n),u=(i==null?void 0:i.path)??JSON.stringify(i),m=me(),s=me(),a=ve(ce),v=B(()=>a.openedMenus.includes(l.at(-1))),h=B(()=>a.isMenuPopup?{onEnter(t){t.offsetHeight>window.innerHeight&&(t.style.height=`${window.innerHeight}px`)},onAfterEnter:()=>{},onBeforeLeave:t=>{t.style.overflow="hidden",t.style.maxHeight=`${t.offsetHeight}px`},onLeave:t=>{t.style.maxHeight="0"},onAfterLeave(t){t.style.overflow="",t.style.maxHeight=""}}:{onEnter(t){const f=t.offsetHeight;t.style.maxHeight="0",t.style.overflow="hidden",t.offsetHeight,t.style.maxHeight=`${f}px`},onAfterEnter(t){t.style.overflow="",t.style.maxHeight=""},onBeforeLeave(t){t.style.overflow="hidden",t.style.maxHeight=`${t.offsetHeight}px`},onLeave(t){t.style.maxHeight="0"},onAfterLeave(t){t.style.overflow="",t.style.maxHeight=""}}),b=B(()=>a.isMenuPopup?{enterActiveClass:"ease-in-out duration-300",enterFromClass:"opacity-0 translate-x-4",enterToClass:"opacity-100",leaveActiveClass:"ease-in-out duration-300",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"}:{enterActiveClass:"ease-in-out duration-300",enterFromClass:"opacity-0",enterToClass:"opacity-100",leaveActiveClass:"ease-in-out duration-300",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"}),r=B(()=>{let t=!0;if(i.children){i.children.every(d=>{var y;return((y=d.meta)==null?void 0:y.menu)===!1})&&(t=!1);let f=0;i.children.map(d=>{var y;((y=d.meta)==null?void 0:y.hidden)===!0&&f++}),f===i.children.length&&(t=!1)}else t=!1;return t});function g(){a.isMenuPopup&&r.value||(r.value?a.handleSubMenuClick(u,l):a.handleMenuItemClick(u))}let p;function c(){a.isMenuPopup&&(a.mouseInMenu=l,p==null||p(),{stop:p}=pe(async()=>{if(r.value)a.openMenu(u,l),await ee(()=>{const t=m.value.ref;let f=0,d=0;a.props.mode==="vertical"||o!==0?(f=t.getBoundingClientRect().top+t.scrollTop,d=t.getBoundingClientRect().left+t.getBoundingClientRect().width,f+s.value.getElement().offsetHeight>window.innerHeight&&(f=window.innerHeight-s.value.getElement().offsetHeight)):(f=t.getBoundingClientRect().top+t.getBoundingClientRect().height,d=t.getBoundingClientRect().left,f+s.value.getElement().offsetHeight>window.innerHeight&&(s.value.getElement().style.height=`${window.innerHeight-f}px`)),d+s.value.getElement().offsetWidth>document.documentElement.clientWidth&&(d=t.getBoundingClientRect().left-t.getBoundingClientRect().width),s.value.getElement().style.top=`${f}px`,s.value.getElement().style.left=`${d}px`});else{const t=i.children?a.subMenus[u].indexPath.at(-1):a.items[u].indexPath.at(-1);a.openMenu(t,a.subMenus[t].indexPath)}},300))}function M(){a.isMenuPopup&&(a.mouseInMenu=[],p==null||p(),{stop:p}=pe(()=>{a.mouseInMenu.length===0?a.closeMenu(l):r.value&&!a.mouseInMenu.includes(l.at(-1))&&a.closeMenu(l.at(-1))},300))}return()=>e(N,null,[e(we,{ref:m,"unique-key":l,item:i,level:o,"sub-menu":r.value,expand:v.value,onClick:()=>g(),onMouseenter:()=>c(),onMouseleave:()=>M()},null),r.value&&e(be,{to:"body",disabled:!a.isMenuPopup},{default:()=>[e(O,Ce(b.value,h.value),{default:()=>[v.value&&e(Ne,{defer:!0,ref:s,options:{scrollbars:{visibility:"hidden"}},class:{"mine-sub-menu":!0,"fixed z-3000 min-w-[150px] max-w-[240px] ing-1 shadow-lg rounded-md pb-[7px] pt-[2px] b-1 b-solid b-gray-2 dark-b-dark-4":a.isMenuPopup,"mx-2":a.isMenuPopup&&(a.props.mode==="vertical"||o!==0)}},{default:()=>{var t;return[i.children&&((t=i.children)==null?void 0:t.map(f=>{var d;return e(N,null,[((d=f==null?void 0:f.meta)==null?void 0:d.type)!=="B"&&e(xe,{key:f.path??JSON.stringify(f),"unique-key":[...l,f.path??JSON.stringify(f)],menu:f,level:o+1},null)])}))]}})]})]})])}}),Ue=C({name:"MineMenu",props:{menu:Object,value:String,accordion:{type:Boolean,default:!0},defaultOpens:Array,mode:{type:String,default:"vertical"},collapse:{type:Boolean,default:!1},showCollapseName:{type:Boolean,default:!1}},setup(n){var M;const l=k(n.value),i=k({}),o=k({}),u=k((M=n.defaultOpens)==null?void 0:M.slice(0)),m=k([]),s=B(()=>n.mode==="horizontal"||n.mode==="vertical"&&n.collapse);function a(t,f=[]){t.forEach(d=>{var T;const y=d.path??JSON.stringify(d);if(d!=null&&d.children&&((T=d==null?void 0:d.children)==null?void 0:T.length)>0){const A=[y];f.length>0&&A.push(...f),o.value[y]={index:y,indexPath:A,active:!1},a(d.children,A)}else{const A=[y,...f];o.value[y]={index:y,indexPath:A,active:!1},i.value[y]={index:y,indexPath:A}}})}const v=(t,f)=>{u.value.includes(t)||(n.accordion&&(u.value=f),u.value.push(...f))},h=async t=>{if(Array.isArray(t)){await ee(()=>{h(t.at(-1)),t.length>1&&h(t.slice(0,-1))});return}Object.keys(o.value).forEach(f=>{o.value[f].indexPath.includes(t)&&(u.value=u.value.filter(d=>d!==t))})};function b(t){var f,d;for(const y in o.value)o.value[y].active=!1;(f=o.value[t])==null||f.indexPath.forEach(y=>{o.value[y].active=!0}),(d=i.value[t])==null||d.indexPath.forEach(y=>{o.value[y].active=!0})}const r=t=>{(n.mode==="horizontal"||n.collapse)&&(u.value=[]),b(t)},g=(t,f)=>{u.value.includes(t)?h(t):v(t,f)};function p(){const t=l.value&&i.value[l.value];b(l.value),!(!t||n.collapse)&&t.indexPath.forEach(f=>{const d=o.value[f];d&&v(f,d.indexPath)})}j(()=>n.menu,t=>{a(t),p()},{deep:!0,immediate:!0}),j(()=>n.value,t=>{i.value[t]||(l.value="");const f=i.value[t]||l.value&&i.value[l.value]||i.value[n.value];f?l.value=f.index:l.value=t,p()}),j(()=>n.collapse,t=>{t&&(u.value=[]),p()});const c=()=>e("div",{class:{"transition-all":!0,"flex-row! w-auto!":s&&n.mode==="horizontal"}},[e(ae,{name:"mine-menu"},{default:()=>[n.menu&&n.menu.map(t=>t.children?e("div",{key:t.name},[e(xe,{menu:t,"unique-key":[t.path??JSON.stringify(t)]},null)]):e("div",{key:t.name},[e(we,{item:t,"unique-key":[t.path??JSON.stringify(t)],onClick:()=>r(t.path??JSON.stringify(t))},null)]))]})]);return Te(ce,ge({props:n,items:i,subMenus:o,activeIndex:l,openedMenus:u,mouseInMenu:m,isMenuPopup:s,openMenu:v,closeMenu:h,handleMenuItemClick:r,handleSubMenuClick:g})),()=>c()}}),Ve=C({name:"SubAside",setup(){const n=k(!1),l=k(!1),i=k(),o=U(),u=F(),{getSettings:m,toggleCollapseButton:s,toggleFixedSubAsideButton:a,getMenuCollapseState:v,getFixedAsideState:h,isColumnsLayout:b,isMixedLayout:r,showMineHeader:g,showMineSubAside:p,getMobileState:c,setMobileSubmenuState:M,getMobileSubmenuState:t}=L();function f(){var I,H,R;const y=((I=i.value)==null?void 0:I.scrollTop)??0;n.value=y>0;const T=((H=i.value)==null?void 0:H.clientHeight)??0,A=((R=i.value)==null?void 0:R.scrollHeight)??0;l.value=Math.ceil(y+T)<A}const d=B(()=>({"mine-sub-aside-list":!0,"shadow-top":n.value,"shadow-bottom":l.value}));return()=>e(O,{name:"mine-sub-aside-container"},{default:()=>{var y,T;return[e("div",{class:{"mine-sub-aside":!0,"w-0":b()||r()&&(!o.activeTopMenu||((T=(y=o.activeTopMenu)==null?void 0:y.children)==null?void 0:T.length)===0),"w-[var(--mine-g-sub-aside-width)]":!b(),"!absolute left-[var(--mine-g-main-aside-width)] !w-0":h()&&b(),"!group-hover-w-[var(--mine-g-sub-aside-width)] group-hover-shadow-lg":h()&&b()&&o.subMenu.length>0,"!absolute shadow-md":c(),"!w-0":c()&&!t(),"!w-[var(--mine-g-sub-aside-width)]":c()&&t()}},[(!g()&&p()||!v()&&b()||c())&&e(ne,{showLogo:p()||v(),showTitle:!v()},null),e("div",{ref:i,class:d.value,onScroll:f},[e(Ue,{menu:o.allMenu,value:u.meta.activeName||u.path,"default-opens":["/"],collapse:v()},null)]),e("div",{class:{"flex items-center h-13":!0,"justify-center":v(),"justify-end px-3":p()||c(),"justify-between px-3":!v()&&b()&&!c()}},[z(e("div",{class:{"mine-sub-aside-fixed-button":!0},onClick:a},[e(x,{name:h()?"material-symbols:filter-alt-off-outline-sharp":"material-symbols:filter-alt-outline-sharp"},null)]),[[E,!v()&&b()&&!c()]]),z(e("div",{class:{"mine-sub-aside-collapse-button relative px-4":!0,"-rotate-z-180":!v()},onClick:s},[e(x,{name:"system-uicons:window-collapse-right"},null)]),[[E,m("subAside").showCollapseButton&&!h()&&!c()]]),z(e("div",{class:{"mine-sub-aside-close-button relative px-4":!0},onClick:()=>M(!1)},[e(x,{name:"material-symbols:close-rounded"},null)]),[[E,c()]])])])]}})}}),Je=C({name:"Tabbar",setup(){const n=V(),{getSettings:l}=L(),i=F(),{t:o}=le(),u=k(null),m=k(null);Fe(u,n.tabList);const s=(p,c)=>{p.preventDefault(),Ke.showContextMenu({x:p.x,y:p.y,zIndex:1050,iconFontClass:"",customClass:"mine-contextmenu",items:[{label:o("mineAdmin.tab.refresh"),icon:"i-ri:refresh-line",onClick:async()=>await n.refreshTab(c)},{label:o("mineAdmin.tab.close"),icon:"i-ri:close-line",disabled:n.tabList.length<=1||c.affix,divided:!0,onClick:()=>n.closeTab(c)},{label:o("mineAdmin.tab.fixed"),icon:"i-ri:pushpin-2-line",disabled:c.affix,onClick:()=>n.affixTab(c)},{label:o("mineAdmin.tab.fullscreen"),icon:"i-material-symbols:fullscreen",divided:!0,onClick:()=>n.maxSizeTab(c)},{label:o("mineAdmin.tab.closeOther"),icon:"i-ic:outline-cancel",onClick:()=>n.closeOtherTab(c)},{label:o("mineAdmin.tab.closeLeft"),icon:"i-material-symbols:skip-previous-outline-rounded",onClick:()=>n.closeLeftTab(c)},{label:o("mineAdmin.tab.closeRight"),icon:"i-material-symbols:skip-next-outline-rounded",onClick:()=>n.closeRightTab(c)}]})},a=p=>{p.preventDefault(),document.querySelector(".mine-tabbar").scrollBy({left:p.deltaY||p.detail})},v=async(p,c)=>{p.preventDefault(),await n.go(c)};j(()=>i,async()=>{var p,c,M,t;V().addTab({name:i.name,path:i.path,fullPath:(i==null?void 0:i.fullPath)??i.path,title:(p=i.meta)==null?void 0:p.title,i18n:(c=i.meta)==null?void 0:c.i18n,icon:(M=i.meta)==null?void 0:M.icon,affix:((t=i.meta)==null?void 0:t.affix)===!0}),await ee(async()=>{var f;(f=document.querySelector(".tab-item.active"))==null||f.scrollIntoView({behavior:"smooth",block:"center"})})},{immediate:!0,deep:!0});const h=p=>{const{x:c}=Be(m,{behavior:"smooth"}),M=n.tabList.length*130;p==="left"&&(c.value=c.value<=130?0:c.value-500),p==="right"&&(c.value=c.value>=M?M:c.value+500)},{current:b}=fe({passive:!1,onEventFired(p){p.key==="Alt"&&p.preventDefault()}}),r=B(()=>Array.from(b)),g=ge({oneKey:null,twoKey:null});return j(()=>r.value,async()=>{if(g.oneKey=r.value[0]??null,g.twoKey=r.value[1]??null,g.oneKey==="alt"&&g.twoKey!==null)switch(g.twoKey){case"c":n.closeCurrentTab();break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.tabList[Number(g.twoKey)-1]&&await n.go(n.tabList[Number(g.twoKey)-1]);break;case"0":n.tabList[n.tabList.length-1]&&await n.go(n.tabList[n.tabList.length-1]);break;case"arrowup":await n.maxSizeTab(n.getCurrentTab());break;case"arrowdown":n.exitMaxSizeTab();break}},{deep:!0}),X(()=>m.value=document.querySelector(".mine-tabbar")),()=>e("div",{ref:"tabsRef",class:"mine-tab-container !hidden !lg:flex"},[e("div",{class:"mine-tab-arrow"},[e("div",{onClick:()=>h("left")},[e(x,{name:"ic:round-keyboard-arrow-left",size:20},null)]),e("div",{onClick:()=>h("right")},[e(x,{name:"ic:round-keyboard-arrow-right",size:20},null)])]),e(ae,{name:"tabbar",tag:"div",class:"mine-tabbar",ref:u,onWheel:p=>a(p)},{default:()=>{var p;return[(p=n.tabList)==null?void 0:p.map((c,M)=>e("a",{key:c.fullPath,class:{"tab-item":!0,rectanglePlan:l("tabbar").mode==="rectangle",cardPlan:l("tabbar").mode==="card",active:i.fullPath===c.fullPath||i.path===c.path},title:c!=null&&c.i18n?w(c.i18n):c.title,onClick:t=>v(t,c),onContextmenu:t=>s(t,c)},[c.icon&&e(x,{name:c.icon,class:"menu-icon"},null),e("span",{class:"title"},[c!=null&&c.i18n?w(c.i18n):c.title]),c.affix&&g.oneKey!=="alt"&&e(x,{name:"ic:baseline-push-pin",class:"icon",onClick:t=>{if(t.stopPropagation(),c.name===n.defaultTab.name){se.error(o("mineAdmin.tab.cannotUnfixed"));return}n.cancelAffixTab(c)}},null),!c.affix&&g.oneKey!=="alt"&&e(x,{name:"material-symbols:close-rounded",class:"icon",onClick:t=>{t.stopPropagation(),n.closeTab(c)}},null),g.oneKey==="alt"&&e("span",{class:"number-icon"},[M+1])]))]}})])}});function Ge(){const{set:n,get:l}=Pe(),i=k([]),{getCurrentTab:o}=V(),{t:u}=le();function m(a=null){const v=a??o();i.value.find(h=>h.fullPath===v.fullPath)?se.info(u("mineAdmin.tab.has")):i.value.push(v)}function s(a){i.value=i.value.filter(v=>v.fullPath!==a.fullPath)}return i.value=l("tab_collection",[]),j(()=>i.value,()=>n("tab_collection",i.value),{immediate:!0,deep:!0}),{tabCollection:i,addToCollection:m,removeCollection:s}}function Q(n,l="redirect"){var i;return l==="redirect"&&n.redirect&&((i=n==null?void 0:n.meta)==null?void 0:i.type)==="M"?!0:!!(n.component&&n.path)}function Qe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!he(n)}const Ye=C({name:"Breadcrumb",setup(){const n=L(),l=Z(),i=F(),{watchRoute:o}=U(),u=B(()=>{var s,a,v;return(s=o==null?void 0:o.meta)!=null&&s.breadcrumb?(v=(a=o.meta)==null?void 0:a.breadcrumb)==null?void 0:v.map(h=>{var b;if(((b=h.meta)==null?void 0:b.breadcrumbEnable)!==!1)return h}):[]}),m=(s,a)=>{var v,h,b,r,g,p,c;return e("div",{class:"flex items-center"},[e("a",{class:{"cursor-default":!0,"cursor-pointer":(((v=s==null?void 0:s.children)==null?void 0:v.length)??0)>0},onClick:async()=>{Q(s,"redirect")&&await l.push({path:s==null?void 0:s.redirect}),Q(s,"component")&&a+1!==u.value.length&&await l.push({path:s.path})}},[((h=s==null?void 0:s.meta)==null?void 0:h.icon)&&e(x,{name:(b=s==null?void 0:s.meta)==null?void 0:b.icon,size:18},null),(r=s==null?void 0:s.meta)!=null&&r.i18n?w((g=s==null?void 0:s.meta)==null?void 0:g.i18n):(p=s==null?void 0:s.meta)==null?void 0:p.title]),(((c=s==null?void 0:s.children)==null?void 0:c.length)??0)>0&&e(x,{name:"material-symbols:arrow-right-rounded",class:"icon",size:22},null)])};return()=>{let s;return e("div",{class:"breadcrumb"},[e(P("router-link"),{to:n.getSettings("welcomePage").path},{default:()=>[e(x,{name:n.getSettings("welcomePage").icon},null),w("menu.welcome"),i.name!==n.getSettings("welcomePage").name&&u.value.length>0&&e(x,{name:"material-symbols:arrow-right-rounded",className:"icon",size:22},null)]}),u.value.length>0&&e(ae,{name:"breadcrumb-animate"},Qe(s=u.value.map((a,v)=>{var h,b;return e("div",{class:{"breadcrumb-list":((h=a==null?void 0:a.children)==null?void 0:h.length)>0,"flex items-center":!0},key:`${v}_${a==null?void 0:a.path}_${(b=a==null?void 0:a.meta)==null?void 0:b.title}`},[v+1===u.value.length?m(a,v):e(P("m-dropdown"),{class:"min-w-[5rem] p-1"},{default:()=>m(a,v),popper:()=>{if(Array.isArray(a==null?void 0:a.children)&&a.children.length>0)return a.children.filter(r=>{var g;return!((g=r==null?void 0:r.meta)!=null&&g.hidden)}).map(r=>e(P("m-dropdown-item"),{type:"default",key:r.path,handle:async()=>{Q(r,"redirect")&&await l.push({path:r==null?void 0:r.redirect}),Q(r,"component")&&r.name!==a.name&&await l.push({path:r.path})}},{default:()=>{var g,p,c;return e("span",null,[(g=r==null?void 0:r.meta)!=null&&g.i18n?w((p=r==null?void 0:r.meta)==null?void 0:p.i18n):(c=r==null?void 0:r.meta)==null?void 0:c.title])},"prefix-icon":()=>{var g,p;return((g=r==null?void 0:r.meta)==null?void 0:g.icon)&&e(x,{name:(p=r==null?void 0:r.meta)==null?void 0:p.icon,size:18},null)}}))}})])}))?s:{default:()=>[s]})])}}}),Ze=C({name:"shortcutsDesc",setup(){const{getDropdownMenu:n}=ie(),l=n();return()=>e(N,null,[e(P("m-modal"),{contentClass:"w-[380px] lg:w-450px justify-start",modelValue:l.shortcuts,"onUpdate:modelValue":i=>l.shortcuts=i,title:w("mineAdmin.userBar.shortcuts")},{default:()=>[e("div",{class:"mine-shortcuts-block"},[e("div",{class:"title"},[w("mineAdmin.shortcuts.searchBar")]),e("div",{class:"short-list"},[e("div",{class:"flex items-center text-sm"},[e("div",{class:"short-key"},[e("span",null,[S("Alt")]),S("+"),e("span",null,[S("s")])]),e("div",null,[w("mineAdmin.shortcuts.searchOpen")])]),e("div",{class:"flex items-center text-sm"},[e("div",{class:"short-key"},[e("span",null,[S("Esc")])]),e("div",null,[w("mineAdmin.shortcuts.close")])])])]),e("div",{class:"mine-shortcuts-block mt-10"},[e("div",{class:"title"},[w("mineAdmin.shortcuts.tabs")]),e("div",{class:"short-list"},[e("div",{class:"flex items-center text-sm"},[e("div",{class:"short-key"},[e("span",null,[S("Alt")]),S("+"),e("span",null,[S("1 ~ 9")])]),e("div",null,[w("mineAdmin.shortcuts.switchN")])]),e("div",{class:"flex items-center text-sm"},[e("div",{class:"short-key"},[e("span",null,[S("Alt")]),S("+"),e("span",null,[S("0")])]),e("div",null,[w("mineAdmin.shortcuts.switchLast")])]),e("div",{class:"flex items-center text-sm"},[e("div",{class:"short-key"},[e("span",null,[S("Alt")]),S("+"),e("span",null,[S("↑")])]),e("div",null,[w("mineAdmin.shortcuts.toMax")])]),e("div",{class:"flex items-center text-sm"},[e("div",{class:"short-key"},[e("span",null,[S("Alt")]),S("+"),e("span",null,[S("↓")])]),e("div",null,[w("mineAdmin.shortcuts.exitMax")])]),e("div",{class:"flex items-center text-sm"},[e("div",{class:"short-key"},[e("span",null,[S("Alt")]),S("+"),e("span",null,[S("c")])]),e("div",null,[w("mineAdmin.shortcuts.close")])])])])]})])}});var Xe={pkg:{version:"3.0.0",dependencies:{"@imengyu/vue3-context-menu":"^1.4.4","@mineadmin/echarts":"^1.0.5","@mineadmin/form":"^1.0.51","@mineadmin/pro-table":"^1.0.73","@mineadmin/search":"^1.0.53","@mineadmin/table":"^1.0.33","@vueuse/core":"^12.7.0","@vueuse/integrations":"^12.7.0","animate.css":"^4.1.1",axios:"^1.8.2",dayjs:"^1.11.13",echarts:"^5.6.0","element-plus":"^2.10.2","floating-vue":"5.2.2",inquirer:"^12.6.3","lodash-es":"^4.17.21","md-editor-v3":"^5.3.0",nprogress:"^0.2.0",overlayscrollbars:"^2.11.0","overlayscrollbars-vue":"^0.5.9","path-browserify":"^1.0.1","path-to-regexp":"^8.2.0",pinia:"^3.0.1",qs:"^6.14.0",radash:"^12.1.0","radix-vue":"^1.9.16",sortablejs:"1.15.6","vaul-vue":"^0.3.0",vue:"^3.5.13","vue-i18n":"11.1.2","vue-m-message":"^4.0.2","vue-router":"^4.5.0","vue3-sfc-loader":"^0.9.5","web-storage-cache":"^1.1.1"},devDependencies:{"@antfu/eslint-config":"^4.3.0","@iconify/json":"^2.2.309","@iconify/vue":"^4.3.0","@intlify/unplugin-vue-i18n":"^6.0.3","@playwright/test":"^1.54.2","@stylistic/stylelint-config":"^2.0.0","@types/archiver":"^6.0.3","@types/mockjs":"^1.0.10","@types/node":"^24.1.0","@types/nprogress":"^0.2.3","@types/path-browserify":"^1.0.3","@types/qs":"^6.9.18","@unocss/eslint-plugin":"^66.0.0","@vitejs/plugin-legacy":"^6.0.1","@vitejs/plugin-vue":"^5.2.1","@vitejs/plugin-vue-jsx":"^4.1.1","ace-builds":"^1.38.0",archiver:"^7.0.1",autoprefixer:"^10.4.20",boxen:"^8.0.1",eslint:"^9.20.1",esno:"^4.8.0","fs-extra":"^11.3.0","http-server":"^14.1.1","lint-staged":"^15.4.3","npm-run-all2":"^7.0.2",picocolors:"^1.1.1",postcss:"^8.5.3",sass:"^1.85.0",stylelint:"^16.14.1","stylelint-config-recess-order":"^6.0.0","stylelint-config-standard-scss":"^14.0.0","stylelint-config-standard-vue":"^1.0.0","stylelint-scss":"^6.11.0",svgo:"^3.3.2",terser:"^5.43.1",typescript:"^5.7.3",unocss:"^66.0.0","unplugin-auto-import":"^19.1.0","unplugin-vue-components":"^28.4.0",vconsole:"^3.15.1",vite:"^6.2.6","vite-plugin-chunk-split":"^0.5.0","vite-plugin-compression2":"^1.3.3","vite-plugin-fake-server":"^2.2.0","vite-plugin-svg-icons":"^2.0.1","vite-plugin-vue-devtools":"^7.7.2","vue-tsc":"^2.2.2","vue3-ace-editor":"^2.2.4"}},lastBuildTime:"2025-08-22 12:07:27"};const en=C({name:"SystemInfo",setup(){const{getDropdownMenu:n}=ie(),l=n(),{pkg:i,lastBuildTime:o}=Xe,u=Le().getPluginConfig();return()=>e(N,null,[e(P("m-drawer"),{contentClass:"w-380px lg:w-[450px] overflow-hidden",modelValue:l.systemInfo,"onUpdate:modelValue":m=>l.systemInfo=m,title:w("mineAdmin.userBar.systemInfo")},{default:()=>{var m,s,a,v;return[e("div",{class:"mb-5 mt-2 text-left text-lg"},[w("mineAdmin.runtime.coreInfo")]),e("div",{class:"mine-desc-info"},[e("div",{class:"mine-desc-label"},[w("mineAdmin.runtime.lastBuildTime")]),e("div",{class:"mine-desc-value"},[o])]),e("div",{class:"mine-desc-info"},[e("div",{class:"mine-desc-label"},[w("mineAdmin.runtime.systemVersion")]),e("div",{class:"mine-desc-value"},[`v${i.version}`])]),e("div",{class:"mine-desc-info"},[e("div",{class:"mine-desc-label"},[w("mineAdmin.runtime.pluginCount")]),e("div",{class:"mine-desc-value"},[((m=Object.keys(u))==null?void 0:m.length)??0])]),e("div",{class:"my-5 text-left text-lg"},[w("mineAdmin.runtime.pluginList")]),(s=Object.keys(u))==null?void 0:s.map(h=>{const r=u[h].config;return e(N,null,[e("div",{class:"mine-desc-info"},[e("div",{class:"mine-desc-label !w-5/12"},[r==null?void 0:r.info.name]),e("div",{class:"mine-desc-value flex items-center justify-end gap-x-1.5 !w-7/12"},[e("span",null,[r==null?void 0:r.info.author]),e("span",null,[S(" / ")]),e("span",null,[w(r!=null&&r.enable?"mineAdmin.plugin.enabled":"mineAdmin.plugin.disabled")]),e("span",null,[S(" / ")]),e("span",null,[r==null?void 0:r.info.version])])]),e("div",null,null)])}),e("div",{class:"my-5 text-left text-lg"},[w("mineAdmin.runtime.dependencies")]),(a=Object.keys(i.dependencies))==null?void 0:a.map(h=>e("div",{class:"mine-desc-info"},[e("div",{class:"mine-desc-label"},[h]),e("div",{class:"mine-desc-value"},[i.dependencies[h]])])),e("div",{class:"my-5 text-left text-lg"},[w("mineAdmin.runtime.devDependencies")]),(v=Object.keys(i.devDependencies))==null?void 0:v.map(h=>e("div",{class:"mine-desc-info"},[e("div",{class:"mine-desc-label"},[h]),e("div",{class:"mine-desc-value"},[i.devDependencies[h]])])),e("div",{class:"h-3"},null)]}})])}}),nn=C({name:"UserBar",setup(){const n=ie(),l=Z(),i=n.getUserInfo(),{t:o}=le(),u=[{label:"mineAdmin.userBar.uc",icon:"material-symbols:account-circle-outline",handle:()=>l.push({path:"/uc"})},{label:"mineAdmin.userBar.clearCache",icon:"mingcute:broom-line",handle:async()=>{await n.clearCache(),se.success(o("mineAdmin.common.clearCache"))}},{label:"divider"},{label:"mineAdmin.userBar.shortcuts",icon:"i-material-symbols:keyboard-keys",handle:()=>n.setDropdownMenuState("shortcuts",!0)},{label:"mineAdmin.userBar.systemInfo",icon:"i-bi:info-circle",handle:()=>n.setDropdownMenuState("systemInfo",!0)},{label:"divider"},{label:"mineAdmin.userBar.logout",icon:"hugeicons:logout-04",handle:()=>n.logout()}];return()=>e("div",{class:"mine-user-bar"},[e(P("m-dropdown"),{class:"min-w-[6rem] p-1"},{default:()=>e("div",{class:"mine-userinfo"},[i.avatar&&e("img",{src:i.avatar,alt:i.username,class:"mine-img-avatar"},null),!i.avatar&&e("div",{class:"mine-text-avatar"},[i.username[0].toUpperCase()]),e("a",{class:"username hidden lg:flex"},[i.username,e(x,{name:"material-symbols:keyboard-arrow-down-rounded",className:"icon",size:20},null)])]),popper:()=>e("div",null,[u.map(m=>e("div",null,[m.label!=="divider"&&e(P("m-dropdown-item"),{type:"default",handle:m.handle},{default:()=>e("span",null,[w(m.label)]),"prefix-icon":()=>e(x,{name:m.icon,size:18},null)}),m.label==="divider"&&e(P("m-dropdown-divider"),null,null)]))])}),e(en,null,null),e(Ze,null,null)])}}),tn=C({name:"RightBar",setup(){const n=L(),l=qe().$toolbars,i=k([]),o=B(()=>l.toolbars.value.map(u=>{var m,s;return{...u,show:((s=(m=n.getSettings("toolBars"))==null?void 0:m.find(a=>a.name===u.name))==null?void 0:s.show)??u.show}}));return j(()=>o.value,()=>{l.state=!1,l.render().then(u=>{i.value=u}),l.state=!0},{immediate:!0,deep:!0}),()=>e("div",{class:"right-bar"},[i.value,e(nn,null,null)])}}),an=C({name:"Toolbar",setup(){const n=L(),{tabCollection:l,addToCollection:i,removeCollection:o}=Ge(),u=n.getSettings("app");return()=>e("div",{class:{"mine-toolbar overflow-hidden":!0,"!h-0 !b-b-0":n.isMixedLayout()&&!n.getUserBarState()&&!n.getMobileState()}},[e("div",{class:"hidden gap-x-4 lg:flex"},[e(P("m-dropdown"),{class:"min-w-[18rem] p-3"},{default:()=>e(x,{name:"i-fluent:star-line-horizontal-3-16-regular",size:20,class:"h-6 cursor-pointer"},null),popper:()=>{var m;return e("div",{class:"collection-wrapper"},[e("div",{class:"title-bar"},[e("div",null,[w("mineAdmin.tab.favorites")]),e("a",{class:"cursor-pointer",title:w("mineAdmin.tab.addFavorite"),onClick:()=>i()},[e(x,{name:"fluent:collections-16-regular",size:20},null)])]),e("div",{class:{list:l.value.length>0,flex:l.value.length===0}},[(m=l.value)==null?void 0:m.map(s=>e("div",{class:"div-button",onClick:()=>V().go(s)},[e("div",{class:"menu"},[s.icon&&e(x,{name:s.icon},null),e("div",null,[s.i18n?w(s.i18n):s.title])]),e(x,{name:"streamline:recycle-bin-2",className:"icon",size:14,onClick:()=>o(s)},null)])),l.value.length===0&&e("div",{class:"h-13 w-full flex items-center justify-center"},[w("mineAdmin.tab.noFavorite")])])])}}),u.showBreadcrumb&&e(Ye,null,null)]),e("div",{class:"flex items-center gap-x-3 lg:hidden"},[e(ne,{showTitle:!1},null),e(x,{name:"material-symbols:menu-rounded",size:20,class:"cursor-pointer",onClick:()=>n.setMobileSubmenuState(!0)},null)]),e(tn,null,null)])}}),ln=C({name:"Bars",setup(){const n=L();return()=>e("div",{class:"mine-bars"},[e(an,null,null),n.getSettings("tabbar").enable&&e(Je,null,null)])}}),sn=C({name:"Footer",setup(){const l=L().getSettings("copyright"),i=F();return()=>{var o,u,m;return z(e("footer",null,[l.enable&&((o=i.meta)==null?void 0:o.copyright)===!0&&((u=i.meta)==null?void 0:u.type)!=="I"&&e("div",{class:"mine-footer"},[e("span",null,[S("Copyright")]),e(x,{name:"lucide:copyright"},null),e("span",null,[l.dates]),e("span",null,[e("a",{href:l.website,target:"_blank"},[l.company])]),e("span",null,[e("a",{href:"https://beian.miit.gov.cn/",target:"_blank"},[l.putOnRecord])])])]),[[E,((m=i.meta)==null?void 0:m.type)!=="I"]])}}}),on=C({name:"BackTop",setup(){function n(){var m;(m=document.querySelector(".mine-main"))==null||m.scrollTo({top:0,behavior:"smooth"})}const l={enterActiveClass:"ease-out duration-300",enterFromClass:"opacity-0 translate-y-4 lg-translate-y-0 lg-scale-95",enterToClass:"opacity-100 translate-y-0 lg-scale-100",leaveActiveClass:"ease-in duration-200",leaveFromClass:"opacity-100 translate-y-0 lg-scale-100",leaveToClass:"opacity-0 translate-y-4 lg-translate-y-0 lg-scale-95"},i=k(null);function o(){var m;i.value=((m=document.querySelector(".mine-main"))==null?void 0:m.scrollTop)??0}X(()=>{var m;(m=document.querySelector(".mine-main"))==null||m.addEventListener("scroll",o),o()}),Ie(()=>{var m;(m=document.querySelector(".mine-main"))==null||m.removeEventListener("scroll",o)});const u=()=>e("div",{class:"mine-back-top",onClick:()=>n()},[e(x,{name:"i-tdesign:backtop",size:26},null)]);return()=>e(be,{to:"body"},{default:()=>[e(O,l,{default:()=>[(Y(i)??0)>200&&u()]})]})}}),te=new WeakMap;function cn(n){const{setMobileState:l,setMobileSubmenuState:i}=L();He(document.body,o=>{const[u]=o,{width:m,height:s}=u.contentRect,a=document.querySelector(".mine-search-panel-container");a.style.top=s<500?"0px":s<800?"calc(100% - 50% - 250px)":"calc(100% - 50% - 350px)",l(m<1024),i(!(m<1024)),un(n)})}function rn(){return/Android|iPhone|iPad|iPod|Mobile/i.test(navigator.userAgent)}function un(n){const{isOutside:l}=ze(n),i=L(),o=n.value,u=te.get(o);if(u&&(document.removeEventListener("mousemove",u),te.delete(o)),rn()&&window.innerWidth<1024){const m=()=>{i.getMobileSubmenuState()&&l.value&&i.setMobileSubmenuState(!1)};document.addEventListener("mousemove",m),te.set(o,m)}}const Sn=C({name:"MineContainer",setup(){const{getSettings:n,showMineHeader:l,isMixedLayout:i,isClassicLayout:o,isBannerLayout:u,openGlobalWatermark:m,clearGlobalWatermark:s,getSearchPanelEnable:a,getMobileState:v}=L(),h=k(),b=Re(),r=n("app"),g=U(),p=F();return j(()=>r.enableWatermark,c=>{c&&m(),c||s()},{immediate:!0}),X(()=>{g.subMenu.length>0&&(r==null?void 0:r.layout)==="columns"?g.setSubAsideWidthByDefault():g.subMenu.length===0&&(r==null?void 0:r.layout)==="mixed"||(r==null?void 0:r.layout)==="columns"?g.setSubAsideWidthByZero():g.setSubAsideWidthByDefault(),cn(h)}),()=>{var c;return e("div",{class:"app-container"},[e(We,null,null),e("div",{class:{"mine-wrapper":!0,"mine-wrapper-full":!l()||v(),"mine-wrapper-not-full":l()&&!v()}},[e(O,{name:"mine-aside-animate"},{default:()=>[z(e("div",{class:{"group mine-aside":!0,"w-0":v()}},[!o()&&!i()&&e(ye,null,null),e(Ve,{ref:h},null)]),[[E,!u()]])]}),e("div",{class:"mine-main"},[e(ln,null,null),e("div",{class:"mine-worker-area"},[e(Ee,{class:"router-view"},{default:({Component:M})=>e(O,{name:r.pageAnimate,mode:"out-in"},{default:()=>[e(je,{include:b.list},[b.getShowState()&&p.meta.type!=="I"&&e(M,{key:p.fullPath},null)])]})})]),z(e("div",{class:"mine-iframe-area"},[e(De,null,null)]),[[E,((c=p.meta)==null?void 0:c.type)==="I"]]),e(sn,null,null),e(on,null,null)])]),e("div",{class:"mine-max-size-exit",onClick:()=>V().exitMaxSizeTab()},[e(x,{name:"i-material-symbols:close",size:50},null)]),z(e(_e,null,null),[[E,a()]])])}}});export{Sn as default};
