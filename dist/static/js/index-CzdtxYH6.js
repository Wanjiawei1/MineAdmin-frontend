import{b2 as k,d as I,r as v,V as K,e as p,f as N,h as x,j as m,b as a,as as w,aj as P,ag as i,z as y,ah as g,O as o,l as L,ab as S,ap as C,aq as O,ar as U,m as W,bc as q,F as D,bd as H}from"./index-BsGhlh_X.js";import{u as G}from"./useLocalTrans-APekFW45.js";function le(){return k().get("/admin/menu/list")}function ne(n){return k().post("/admin/menu",n)}function ae(n,r){return k().put(`/admin/menu/${n}`,r)}function ie(n){return k().delete("/admin/menu",{data:n})}const J={class:"sticky w-full"},Q={key:0,class:"flex items-center"},X={class:"flex items-center gap-x-1"},Y={class:"flex flex-col gap-y-1"},Z={class:"flex items-center justify-between gap-x-1"},ee={class:"ma-tree-extra"},te=I({name:"MaTree",__name:"index",props:{treeKey:{default:"label"}},setup(n,{expose:r}){const u=G(),_=v(""),c=v(),b=v(!1),d=v(!1);K(()=>_.value,t=>{c.value.filter(t)});function z(t,e){return t?H(e,n.treeKey).includes(t):!0}function T(){var e;b.value=!b.value,((e=c.value.store)==null?void 0:e._getAllNodes()).forEach(s=>{s.expanded=b.value})}function V(t){var e,s,h;t?(s=(e=c.value)==null?void 0:e.store._getAllNodes())==null||s.map(f=>{f.checked=!0}):(h=c.value)==null||h.setCheckedKeys([])}function A(){var t,e;(e=(t=c.value)==null?void 0:t.store._getAllNodes())==null||e.map(s=>{s.checked=!s.checked})}function B(t){d.value=t}return r({toggle:T,handleSelectAll:V,handleInvert:A,setCheckStrictly:B,elTree:c}),(t,e)=>{var M;const s=L,h=p("el-tooltip"),f=p("el-checkbox"),j=p("el-input"),E=p("el-button"),R=p("el-button-group");return x(),N(D,null,[m("div",J,[((M=t.$attrs)==null?void 0:M.showCheckbox)??!1?(x(),N("div",Q,[a(f,{modelValue:o(d),"onUpdate:modelValue":e[0]||(e[0]=l=>S(d)?d.value=l:null),onChange:e[1]||(e[1]=l=>d.value=l)},{default:i(()=>[m("div",X,[y(g(o(u)("strictlyMode"))+" ",1),a(h,{content:o(u)("strictlyModeTip")},{default:i(()=>[a(s,{name:"material-symbols:info-outline-rounded",size:16})]),_:1},8,["content"])])]),_:1},8,["modelValue"]),a(f,{onChange:e[2]||(e[2]=l=>V(l))},{default:i(()=>[y(g(o(u)("selectAll")),1)]),_:1}),o(d)?(x(),P(f,{key:0,onChange:A},{default:i(()=>[y(g(o(u)("invert")),1)]),_:1})):w("",!0)])):w("",!0),m("div",Y,[m("div",Z,[a(j,{modelValue:o(_),"onUpdate:modelValue":e[3]||(e[3]=l=>S(_)?_.value=l:null),placeholder:o(u)("placeholder"),clearable:""},{prefix:i(()=>[a(s,{name:"heroicons:magnifying-glass",size:20})]),_:1},8,["modelValue","placeholder"]),a(R,{class:"flex justify-end"},{default:i(()=>[a(E,{onClick:e[4]||(e[4]=l=>T())},{default:i(()=>[y(g(o(u)(o(b)?"fold":"open")),1)]),_:1}),C(t.$slots,"buttons")]),_:3})]),m("div",ee,[C(t.$slots,"extra")])])]),a(o(q),W({ref_key:"treeRef",ref:c,"check-strictly":o(d),"filter-node-method":z,class:"w-auto overflow-y-auto"},t.$attrs),{default:i(({node:l,data:F})=>[C(t.$slots,"default",O(U({node:l,data:F})))]),_:3},16,["check-strictly"])],64)}}});function $(n){const r=n;r.__i18n=r.__i18n||[],r.__i18n.push({locale:"",resource:{en:{placeholder:{t:0,b:{t:2,i:[{t:3}],s:"Search Label"}},open:{t:0,b:{t:2,i:[{t:3}],s:"Open"}},fold:{t:0,b:{t:2,i:[{t:3}],s:"Fold"}},strictlyMode:{t:0,b:{t:2,i:[{t:3}],s:"Strictly mode"}},strictlyModeTip:{t:0,b:{t:2,i:[{t:3}],s:"Whether or not to follow a parent-child is not related to each other"}},selectAll:{t:0,b:{t:2,i:[{t:3}],s:"Select All"}},invert:{t:0,b:{t:2,i:[{t:3}],s:"Invert"}}},zh_CN:{placeholder:{t:0,b:{t:2,i:[{t:3}],s:"搜索名称"}},open:{t:0,b:{t:2,i:[{t:3}],s:"展开"}},fold:{t:0,b:{t:2,i:[{t:3}],s:"折叠"}},strictlyMode:{t:0,b:{t:2,i:[{t:3}],s:"严格模式"}},strictlyModeTip:{t:0,b:{t:2,i:[{t:3}],s:"是否遵循父子不互相关联"}},selectAll:{t:0,b:{t:2,i:[{t:3}],s:"全选"}},invert:{t:0,b:{t:2,i:[{t:3}],s:"反选"}}},zh_TW:{placeholder:{t:0,b:{t:2,i:[{t:3}],s:"檢索名稱"}},open:{t:0,b:{t:2,i:[{t:3}],s:"展開"}},fold:{t:0,b:{t:2,i:[{t:3}],s:"收起"}},strictlyMode:{t:0,b:{t:2,i:[{t:3}],s:"嚴格模式"}},strictlyModeTip:{t:0,b:{t:2,i:[{t:3}],s:"是否遵循父子不互相关聯"}},selectAll:{t:0,b:{t:2,i:[{t:3}],s:"全選"}},invert:{t:0,b:{t:2,i:[{t:3}],s:"反選"}}}}})}typeof $=="function"&&$(te);export{te as _,ne as c,ie as d,le as p,ae as s};
